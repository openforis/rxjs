/**
  @license
  Apache License 2.0 https://github.com/ReactiveX/RxJS/blob/master/LICENSE.txt
 **/
/**
  @license
  Apache License 2.0 https://github.com/ReactiveX/RxJS/blob/master/LICENSE.txt
 **/
/*
 *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
*****************************************************************************/
(function(l,h){"object"===typeof exports&&"undefined"!==typeof module?h(exports):"function"===typeof define&&define.amd?define("rxjs",["exports"],h):h(l.rxjs={})})(this,function(l){function h(c,a){function b(){this.constructor=c}ta(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}function Tb(c,a){var b={},d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&0>a.indexOf(d)&&(b[d]=c[d]);if(null!=c&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(c);e<
d.length;e++)0>a.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(c,d[e])&&(b[d[e]]=c[d[e]])}return b}function Ub(c,a,b,d){return new (b||(b=Promise))(function(e,f){function g(b){try{q(d.next(b))}catch(n){f(n)}}function k(b){try{q(d["throw"](b))}catch(n){f(n)}}function q(a){a.done?e(a.value):(new b(function(b){b(a.value)})).then(g,k)}q((d=d.apply(c,a||[])).next())})}function Ra(c,a){function b(b){return function(a){return d([b,a])}}function d(b){if(f)throw new TypeError("Generator is already executing.");
for(;e;)try{if(f=1,g&&(k=b[0]&2?g["return"]:b[0]?g["throw"]||((k=g["return"])&&k.call(g),0):g.next)&&!(k=k.call(g,b[1])).done)return k;if(g=0,k)b=[b[0]&2,k.value];switch(b[0]){case 0:case 1:k=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++;g=b[1];b=[0];continue;case 7:b=e.ops.pop();e.trys.pop();continue;default:if(!(k=e.trys,k=0<k.length&&k[k.length-1])&&(6===b[0]||2===b[0])){e=0;continue}if(3===b[0]&&(!k||b[1]>k[0]&&b[1]<k[3]))e.label=b[1];else if(6===b[0]&&e.label<k[1])e.label=
k[1],k=b;else if(k&&e.label<k[2])e.label=k[2],e.ops.push(b);else{k[2]&&e.ops.pop();e.trys.pop();continue}}b=a.call(c,e)}catch(n){b=[6,n],g=0}finally{f=k=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var e={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},f,g,k,q;return q={next:b(0),"throw":b(1),"return":b(2)},"function"===typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q}function Sa(c){var a="function"===typeof Symbol&&c[Symbol.iterator],b=0;return a?
a.call(c):{next:function(){c&&b>=c.length&&(c=void 0);return{value:c&&c[b++],done:!c}}}}function D(){for(var c=0,a=0,b=arguments.length;a<b;a++)c+=arguments[a].length;for(var c=Array(c),d=0,a=0;a<b;a++)for(var e=arguments[a],f=0,g=e.length;f<g;f++,d++)c[d]=e[f];return c}function J(c){return this instanceof J?(this.v=c,this):new J(c)}function Vb(c,a,b){function d(b){q[b]&&(h[b]=function(a){return new Promise(function(c,d){1<n.push([b,a,c,d])||e(b,a)})})}function e(b,a){try{var c=q[b](a);c.value instanceof
J?Promise.resolve(c.value.v).then(f,g):k(n[0][2],c)}catch(ua){k(n[0][3],ua)}}function f(b){e("next",b)}function g(b){e("throw",b)}function k(b,a){(b(a),n.shift(),n.length)&&e(n[0][0],n[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=b.apply(c,a||[]),h,n=[];return h={},d("next"),d("throw"),d("return"),h[Symbol.asyncIterator]=function(){return this},h}function Yb(c){function a(a){e[a]=c[a]&&function(d){return new Promise(function(e,f){d=c[a](d);b(e,
f,d.done,d.value)})}}function b(b,a,c,d){Promise.resolve(d).then(function(a){b({value:a,done:c})},a)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=c[Symbol.asyncIterator],e;return d?d.call(c):(c="function"===typeof Sa?Sa(c):c[Symbol.iterator](),e={},a("next"),a("throw"),a("return"),e[Symbol.asyncIterator]=function(){return this},e)}function T(c){return"function"===typeof c}function U(c){setTimeout(function(){throw c;},0)}function va(c){return null!==c&&
"object"===typeof c}function Ta(c){return c.reduce(function(a,b){return a.concat(b instanceof ba?b.errors:b)},[])}function wa(c){for(;c;){var a=c.destination,b=c.isStopped;if(c.closed||b)return!1;c=a&&a instanceof m?a:null}return!0}function K(c){return c}function xa(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return Ua(c)}function Ua(c){return 0===c.length?K:1===c.length?c[0]:function(a){return c.reduce(function(b,a){return a(b)},a)}}function Zb(c){return Vb(this,arguments,function(){var a,
b,d,e,f,g,k,q,h;return Ra(this,function(n){switch(n.label){case 0:a=[],b=[],d=!1,e=null,f=!1,g=c.subscribe({next:function(c){0<a.length?a.shift().resolve({value:c,done:!1}):b.push(c)},error:function(b){d=!0;for(e=b;0<a.length;)a.shift().reject(b)},complete:function(){for(f=!0;0<a.length;)a.shift().resolve({value:void 0,done:!0})}}),n.label=1;case 1:n.trys.push([1,16,17,18]),n.label=2;case 2:return 0<b.length?[4,J(b.shift())]:[3,5];case 3:return[4,n.sent()];case 4:return n.sent(),[3,14];case 5:return f?
[4,J(void 0)]:[3,7];case 6:return[2,n.sent()];case 7:if(!d)return[3,8];throw e;case 8:return k=new $b,a.push(k),[4,J(k.promise)];case 9:return q=n.sent(),q.done?[4,J(void 0)]:[3,11];case 10:return[2,n.sent()];case 11:return[4,J(q.value)];case 12:return[4,n.sent()];case 13:n.sent(),n.label=14;case 14:return[3,2];case 15:return[3,18];case 16:throw h=n.sent(),h;case 17:return g.unsubscribe(),[7];case 18:return[2]}})})}function Va(c){c||(c=E.Promise||Promise);if(!c)throw Error("no Promise impl found");
return c}function ya(){return function(c){return c.lift(new ac(c))}}function Wa(c){return new p(function(a){var b,d=c.now(),e=function(){a.next(c.now()-d);a.closed||(b=requestAnimationFrame(e))};b=requestAnimationFrame(e);return function(){return cancelAnimationFrame(b)}})}function Xa(c){return c in za?(delete za[c],!0):!1}function bc(c){return new p(function(a){return c.schedule(function(){return a.complete()})})}function B(c){return c&&"function"===typeof c.schedule}function Aa(c,a){return new p(function(b){var d=
new r,e=0;d.add(a.schedule(function(){e===c.length?b.complete():(b.next(c[e++]),b.closed||d.add(this.schedule()))}));return d})}function ca(c,a){return a?Aa(c,a):new p(Ya(c))}function ja(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=c[c.length-1];return B(a)?(c.pop(),Aa(c,a)):ca(c)}function Ba(c,a){return a?new p(function(b){return a.schedule(cc,0,{error:c,subscriber:b})}):new p(function(b){return b.error(c)})}function cc(c){c.subscriber.error(c.error)}function H(){}function C(c,a){return function(b){if("function"!==
typeof c)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return b.lift(new dc(c,a))}}function Za(c,a,b){if(a)if(B(a))b=a;else return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return Za(c,b).apply(void 0,d).pipe(C(function(b){return y(b)?a.apply(void 0,b):a(b)}))};return function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var f=this,g,k={context:f,subject:void 0,callbackFunc:c,scheduler:b};return new p(function(d){if(b)return b.schedule(ec,
0,{args:a,subscriber:d,params:k});if(!g){g=new V;try{c.apply(f,D(a,[function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];g.next(1>=b.length?b[0]:b);g.complete()}]))}catch(w){wa(g)?g.error(w):console.warn(w)}}return g.subscribe(d)})}}function ec(c){var a=this,b=c.args,d=c.subscriber;c=c.params;var e=c.callbackFunc,f=c.context,g=c.scheduler,k=c.subject;if(!k){k=c.subject=new V;try{e.apply(f,D(b,[function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];a.add(g.schedule(fc,
0,{value:1>=b.length?b[0]:b,subject:k}))}]))}catch(q){k.error(q)}}this.add(k.subscribe(d))}function fc(c){var a=c.subject;a.next(c.value);a.complete()}function $a(c,a,b){if(a)if(B(a))b=a;else return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return $a(c,b).apply(void 0,d).pipe(C(function(b){return y(b)?a.apply(void 0,b):a(b)}))};return function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var f={subject:void 0,args:a,callbackFunc:c,scheduler:b,context:this};
return new p(function(d){var e=f.context,g=f.subject;if(b)return b.schedule(gc,0,{params:f,subscriber:d,context:e});if(!g){g=f.subject=new V;try{c.apply(e,D(a,[function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];(a=b.shift())?g.error(a):(g.next(1>=b.length?b[0]:b),g.complete())}]))}catch(w){wa(g)?g.error(w):console.warn(w)}}return g.subscribe(d)})}}function gc(c){var a=this,b=c.params,d=c.subscriber;c=c.context;var e=b.callbackFunc,f=b.args,g=b.scheduler,k=b.subject;if(!k){k=b.subject=
new V;try{e.apply(c,D(f,[function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];(c=b.shift())?a.add(g.schedule(ab,0,{err:c,subject:k})):a.add(g.schedule(hc,0,{value:1>=b.length?b[0]:b,subject:k}))}]))}catch(q){this.add(g.schedule(ab,0,{err:q,subject:k}))}}this.add(k.subscribe(d))}function hc(c){var a=c.subject;a.next(c.value);a.complete()}function ab(c){c.subject.error(c.err)}function bb(c,a){c=c.subscribe(a);c!==a&&a.add(c);return a}function cb(c){return!!c&&"function"!==typeof c.subscribe&&
"function"===typeof c.then}function ic(c){return function(a){jc(c,a).catch(function(b){return a.error(b)})}}function jc(c,a){var b,d,e,f;return Ub(this,void 0,void 0,function(){var g,k;return Ra(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),b=Yb(c),h.label=1;case 1:return[4,b.next()];case 2:if(d=h.sent(),d.done)return[3,4];g=d.value;a.next(g);h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return k=h.sent(),e={error:k},[3,11];case 6:return h.trys.push([6,,9,10]),d&&!d.done&&
(f=b.return)?[4,f.call(b)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(e)throw e.error;return[7];case 10:return[7];case 11:return a.complete(),[2]}})})}function t(c,a,b,d,e){void 0===e&&(e=new L(c,b,d));if(!e.closed)return a instanceof p?a.subscribe(e):ka(a)(e)}function kc(c,a){return new p(function(b){var d=new r;d.add(a.schedule(function(){var e=c[W]();d.add(e.subscribe({next:function(c){d.add(a.schedule(function(){return b.next(c)}))},error:function(c){d.add(a.schedule(function(){return b.error(c)}))},
complete:function(){d.add(a.schedule(function(){return b.complete()}))}}))}));return d})}function lc(c,a){return new p(function(b){var d=new r;d.add(a.schedule(function(){return c.then(function(c){d.add(a.schedule(function(){b.next(c);d.add(a.schedule(function(){return b.complete()}))}))},function(c){d.add(a.schedule(function(){return b.error(c)}))})}));return d})}function mc(c,a){if(!c)throw Error("Iterable cannot be null");return new p(function(b){var d=new r,e;d.add(function(){e&&"function"===
typeof e.return&&e.return()});d.add(a.schedule(function(){e=c[I]();d.add(a.schedule(function(){if(!b.closed){var a,c;try{var d=e.next();a=d.value;c=d.done}catch(q){b.error(q);return}c?b.complete():(b.next(a),this.schedule())}}))}));return d})}function nc(c,a){if(!c)throw Error("Iterable cannot be null");return new p(function(b){var d=new r;d.add(a.schedule(function(){var e=c[Symbol.asyncIterator]();d.add(a.schedule(function(){var a=this;e.next().then(function(c){c.done?b.complete():(b.next(c.value),
a.schedule())})}))}));return d})}function db(c,a){if(null!=c){if(c&&"function"===typeof c[W])return kc(c,a);if(cb(c))return lc(c,a);if(eb(c))return Aa(c,a);if(c&&"function"===typeof c[I]||"string"===typeof c)return mc(c,a);if(Symbol&&Symbol.asyncIterator&&"function"===typeof c[Symbol.asyncIterator])return nc(c,a)}throw new TypeError((null!==c&&typeof c||c)+" is not observable");}function F(c,a){return a?db(c,a):c instanceof p?c:new p(ka(c))}function M(c,a,b){void 0===b&&(b=Number.POSITIVE_INFINITY);
if("function"===typeof a)return function(d){return d.pipe(M(function(b,d){return F(c(b,d)).pipe(C(function(c,e){return a(b,c,d,e)}))},b))};"number"===typeof a&&(b=a);return function(a){return a.lift(new oc(c,b))}}function Ca(c){void 0===c&&(c=Number.POSITIVE_INFINITY);return M(K,c)}function fb(){return Ca(1)}function X(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return fb()(ja.apply(void 0,c))}function Da(c){return new p(function(a){var b;try{b=c()}catch(d){a.error(d);return}return(b?
F(b):G).subscribe(a)})}function la(c,a){return new p(function(b){var d=c.length;if(0===d)b.complete();else for(var e=Array(d),f=0,g=0,k=function(k){var h=F(c[k]),q=!1;b.add(h.subscribe({next:function(b){q||(q=!0,g++);e[k]=b},error:function(a){return b.error(a)},complete:function(){f++;f!==d&&q||(g===d&&b.next(a?a.reduce(function(b,a,c){return b[a]=e[c],b},{}):e),b.complete())}}))},h=0;h<d;h++)k(h)})}function gb(c,a,b,d){T(b)&&(d=b,b=void 0);return d?gb(c,a,b).pipe(C(function(b){return y(b)?d.apply(void 0,
b):d(b)})):new p(function(d){hb(c,a,function(b){1<arguments.length?d.next(Array.prototype.slice.call(arguments)):d.next(b)},d,b)})}function hb(c,a,b,d,e){var f;if(c&&"function"===typeof c.addEventListener&&"function"===typeof c.removeEventListener)c.addEventListener(a,b,e),f=function(){return c.removeEventListener(a,b,e)};else if(c&&"function"===typeof c.on&&"function"===typeof c.off)c.on(a,b),f=function(){return c.off(a,b)};else if(c&&"function"===typeof c.addListener&&"function"===typeof c.removeListener)c.addListener(a,
b),f=function(){return c.removeListener(a,b)};else if(c&&c.length)for(var g=0,k=c.length;g<k;g++)hb(c[g],a,b,d,e);else throw new TypeError("Invalid event target");d.add(f)}function ib(c,a,b){return b?ib(c,a).pipe(C(function(a){return y(a)?b.apply(void 0,a):b(a)})):new p(function(b){var d=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b.next(1===a.length?a[0]:a)},f;try{f=c(d)}catch(g){b.error(g);return}if(T(a))return function(){return a(d,f)}})}function pc(c){var a=c.subscriber,
b=c.condition;if(!a.closed){if(c.needIterate)try{c.state=c.iterate(c.state)}catch(f){a.error(f);return}else c.needIterate=!0;if(b){var d=void 0;try{d=b(c.state)}catch(f){a.error(f);return}if(!d){a.complete();return}if(a.closed)return}var e;try{e=c.resultSelector(c.state)}catch(f){a.error(f);return}if(!a.closed&&(a.next(e),!a.closed))return this.schedule(c)}}function Y(c){return!y(c)&&0<=c-parseFloat(c)+1}function qc(c){var a=c.subscriber,b=c.counter;c=c.period;a.next(b);this.schedule({subscriber:a,
counter:b+1,period:c},c)}function jb(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var a=Number.POSITIVE_INFINITY,b=void 0,d=c[c.length-1];B(d)?(b=c.pop(),1<c.length&&"number"===typeof c[c.length-1]&&(a=c.pop())):"number"===typeof d&&(a=c.pop());return!b&&1===c.length&&c[0]instanceof p?c[0]:Ca(a)(ca(c,b))}function Ea(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];if(0===c.length)return G;var b=c[0],d=c.slice(1);return 1===c.length&&y(b)?Ea.apply(void 0,b):new p(function(a){var c=
function(){return a.add(Ea.apply(void 0,d).subscribe(a))};return F(b).subscribe({next:function(b){a.next(b)},error:c,complete:c})})}function rc(c){var a=c.keys,b=c.index,d=c.subscriber,e=c.subscription;c=c.obj;if(!d.closed)if(b<a.length){var f=a[b];d.next([f,c[f]]);e.add(this.schedule({keys:a,index:b+1,subscriber:d,subscription:e,obj:c}))}else d.complete()}function kb(c,a){function b(){return!b.pred.apply(b.thisArg,arguments)}b.pred=c;b.thisArg=a;return b}function N(c,a){return function(b){return b.lift(new sc(c,
a))}}function Fa(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];if(1===c.length)if(y(c[0]))c=c[0];else return F(c[0]);return ca(c,void 0).lift(new tc)}function uc(c){var a=c.start,b=c.index,d=c.subscriber;b>=c.count?d.complete():(d.next(a),d.closed||(c.index=b+1,c.start=a+1,this.schedule(c)))}function lb(c,a,b){void 0===c&&(c=0);var d=-1;Y(a)?d=1>Number(a)&&1||Number(a):B(a)&&(b=a);B(b)||(b=z);return new p(function(a){var e=Y(c)?c:+c-b.now();return b.schedule(vc,e,{index:0,period:d,subscriber:a})})}
function vc(c){var a=c.index,b=c.period,d=c.subscriber;d.next(a);if(!d.closed){if(-1===b)return d.complete();c.index=a+1;this.schedule(c,b)}}function mb(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=void 0;"function"===typeof c[c.length-1]&&(a=c.pop());return ca(c,void 0).lift(new nb(a))}function ob(c){return function(a){return a.lift(new wc(c))}}function pb(c){var a=c.subscriber,b=c.context;b&&a.closeContext(b);a.closed||(c.context=a.openContext(),c.context.closeAction=this.schedule(c,
c.bufferTimeSpan))}function xc(c){var a=c.bufferCreationInterval,b=c.bufferTimeSpan,d=c.subscriber,e=c.scheduler,f=d.openContext();d.closed||(d.add(f.closeAction=e.schedule(qb,b,{subscriber:d,context:f})),this.schedule(c,a))}function qb(c){c.subscriber.closeContext(c.context)}function rb(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var b=void 0;"function"===typeof c[c.length-1]&&(b=c.pop());1===c.length&&y(c[0])&&(c=c[0].slice());return function(a){return a.lift.call(F(D([a],c)),new Ga(b))}}
function Ha(c,a){return"function"===typeof a?M(c,a,1):M(c,1)}function yc(c){c.debouncedNext()}function da(c){void 0===c&&(c=null);return function(a){return a.lift(new zc(c))}}function sb(c,a){return function(b){return b.lift(new Ac(c,a))}}function ma(c){void 0===c&&(c=Bc);return function(a){return a.lift(new Cc(c))}}function Bc(){return new P}function Ia(c){return function(a){return 0===c?G:a.lift(new Dc(c))}}function tb(c,a){return a?function(b){return b.pipe(tb(function(b,e){return F(c(b,e)).pipe(C(function(c,
d){return a(b,c,e,d)}))}))}:function(b){return b.lift(new Ec(c))}}function na(c){return function(a){return 0===c?G:a.lift(new Fc(c))}}function oa(c,a){var b=!1;2<=arguments.length&&(b=!0);return function(d){return d.lift(new Gc(c,a,b))}}function pa(c,a){return 2<=arguments.length?function(b){return xa(oa(c,a),na(1),da(a))(b)}:function(b){return xa(oa(function(b,a,f){return c(b,a,f+1)}),na(1))(b)}}function ub(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return function(b){return b.lift.call(jb.apply(void 0,
D([b],c)),void 0)}}function Q(c,a){return function(b){var d;d="function"===typeof c?c:function(){return c};if("function"===typeof a)return b.lift(new Hc(d,a));var e=Object.create(b,Ic);e.source=b;e.subjectFactory=d;return e}}function Jc(c){var a=c.period;c.subscriber.notifyNext();this.schedule(c,a)}function Kc(){return new v}function Lc(c){var a=c.bufferSize,b=void 0===a?Number.POSITIVE_INFINITY:a,a=c.windowTime,d=void 0===a?Number.POSITIVE_INFINITY:a,e=c.refCount,f=c.scheduler,g,k=0,h,l=!1,n=!1;
return function(a){k++;if(!g||l)l=!1,g=new Z(b,d,f),h=a.subscribe({next:function(b){g.next(b)},error:function(b){l=!0;g.error(b)},complete:function(){n=!0;h=void 0;g.complete()}});var c=g.subscribe(this);this.add(function(){k--;c.unsubscribe();h&&!n&&e&&0===k&&(h.unsubscribe(),g=h=void 0)})}}function ea(c,a){return"function"===typeof a?function(b){return b.pipe(ea(function(b,e){return F(c(b,e)).pipe(C(function(c,d){return a(b,c,e,d)}))}))}:function(b){return b.lift(new Mc(c))}}function Nc(c){c.subscriber.clearThrottle()}
function vb(c,a,b){void 0===b&&(b=z);return function(d){var e=c instanceof Date&&!isNaN(+c),f=e?+c-b.now():Math.abs(c);return d.lift(new Oc(f,e,a,b))}}function Pc(c,a,b){if(0===b)return[a];c.push(a);return c}function Qc(c){var a=c.subscriber,b=c.windowTimeSpan,d=c.window;d&&a.closeWindow(d);c.window=a.openWindow();this.schedule(c,b)}function Rc(c){var a=c.windowTimeSpan,b=c.subscriber,d=c.scheduler,e=c.windowCreationInterval,f=b.openWindow(),g={action:this,subscription:null};g.subscription=d.schedule(wb,
a,{subscriber:b,window:f,context:g});this.add(g.subscription);this.schedule(c,e)}function wb(c){var a=c.subscriber,b=c.window;(c=c.context)&&c.action&&c.subscription&&c.action.remove(c.subscription);a.closeWindow(b)}function xb(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return function(b){return b.lift.call(mb.apply(void 0,D([b],c)),void 0)}}function yb(c,a){for(var b=0,d=a.length;b<d;b++)for(var e=a[b],f=Object.getOwnPropertyNames(e.prototype),g=0,k=f.length;g<k;g++){var h=f[g];
c.prototype[h]=e.prototype[h]}}function Sc(c,a){return new R({method:"GET",url:c,headers:a})}function Tc(c,a,b){return new R({method:"POST",url:c,body:a,headers:b})}function Uc(c,a){return new R({method:"DELETE",url:c,headers:a})}function Vc(c,a,b){return new R({method:"PUT",url:c,body:a,headers:b})}function Wc(c,a,b){return new R({method:"PATCH",url:c,body:a,headers:b})}function Xc(c,a){return Yc(new R({method:"GET",url:c,responseType:"json",headers:a}))}function zb(c,a){switch(c){case "json":return c=
"response"in a?a.responseType?a.response:JSON.parse(a.response||a.responseText||"null"):JSON.parse(a.responseText||"null"),c;case "xml":return a.responseXML;default:return"response"in a?a.response:a.responseText}}var ta=function(c,a){ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return ta(c,a)},fa=function(){fa=Object.assign||function(c){for(var a,b=1,d=arguments.length;b<d;b++){a=arguments[b];
for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e])}return c};return fa.apply(this,arguments)},Ja=!1,E={Promise:void 0,set useDeprecatedSynchronousErrorHandling(c){c?console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack):Ja&&console.log("RxJS: Back to a better error behavior. Thank you. \x3c3");Ja=c},get useDeprecatedSynchronousErrorHandling(){return Ja}},qa={closed:!0,next:function(c){},error:function(c){if(E.useDeprecatedSynchronousErrorHandling)throw c;
U(c)},complete:function(){}},y=function(){return Array.isArray||function(c){return c&&"number"===typeof c.length}}(),ba=function(){function c(a){Error.call(this);this.message=a?a.length+" errors occurred during unsubscription:\n"+a.map(function(b,a){return a+1+") "+b.toString()}).join("\n  "):"";this.name="UnsubscriptionError";this.errors=a;return this}c.prototype=Object.create(Error.prototype);return c}(),r=function(){function c(a){this.closed=!1;this._subscriptions=this._parentOrParents=null;a&&
(this._unsubscribe=a)}c.prototype.unsubscribe=function(){var a;if(!this.closed){var b=this._parentOrParents,d=this._unsubscribe,e=this._subscriptions;this.closed=!0;this._subscriptions=this._parentOrParents=null;if(b instanceof c)b.remove(this);else if(null!==b)for(var f=0;f<b.length;++f)b[f].remove(this);if(T(d))try{d.call(this)}catch(g){a=g instanceof ba?Ta(g.errors):[g]}if(y(e))for(f=-1,b=e.length;++f<b;)if(d=e[f],va(d))try{d.unsubscribe()}catch(g){a=a||[],g instanceof ba?a=a.concat(Ta(g.errors)):
a.push(g)}if(a)throw new ba(a);}};c.prototype.add=function(a){var b=a;if(!a)return c.EMPTY;switch(typeof a){case "function":b=new c(a);case "object":if(b===this||b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;b instanceof c||(a=b,b=new c,b._subscriptions=[a]);break;default:throw Error("unrecognized teardown "+a+" added to Subscription.");}a=b._parentOrParents;if(null===a)b._parentOrParents=this;else if(a instanceof c){if(a===this)return b;b._parentOrParents=
[a,this]}else if(-1===a.indexOf(this))a.push(this);else return b;a=this._subscriptions;null===a?this._subscriptions=[b]:a.push(b);return b};c.prototype.remove=function(a){var b=this._subscriptions;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1))};c.EMPTY=function(a){a.closed=!0;return a}(new c);return c}(),ra="function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(c){function a(b,d,e){var f=c.call(this)||this;f.syncErrorValue=null;f.syncErrorThrown=!1;f.syncErrorThrowable=
!1;f.isStopped=!1;switch(arguments.length){case 0:f.destination=qa;break;case 1:if(!b){f.destination=qa;break}if("object"===typeof b){b instanceof a?(f.syncErrorThrowable=b.syncErrorThrowable,f.destination=b,b.add(f)):(f.syncErrorThrowable=!0,f.destination=new Ab(f,b));break}default:f.syncErrorThrowable=!0,f.destination=new Ab(f,b,d,e)}return f}h(a,c);a.prototype[ra]=function(){return this};a.create=function(b,c,e){b=new a(b,c,e);b.syncErrorThrowable=!1;return b};a.prototype.next=function(b){this.isStopped||
this._next(b)};a.prototype.error=function(b){this.isStopped||(this.isStopped=!0,this._error(b))};a.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};a.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,c.prototype.unsubscribe.call(this))};a.prototype._next=function(b){this.destination.next(b)};a.prototype._error=function(b){this.destination.error(b);this.unsubscribe()};a.prototype._complete=function(){this.destination.complete();this.unsubscribe()};
a.prototype._unsubscribeAndRecycle=function(){var b=this._parentOrParents;this._parentOrParents=null;this.unsubscribe();this.isStopped=this.closed=!1;this._parentOrParents=b;return this};return a}(r),Ab=function(c){function a(b,a,e,f){var d=c.call(this)||this;d._parentSubscriber=b;var k;b=d;T(a)?k=a:a&&(k=a.next,e=a.error,f=a.complete,a!==qa&&(b=Object.create(a),T(b.unsubscribe)&&d.add(b.unsubscribe.bind(b)),b.unsubscribe=d.unsubscribe.bind(d)));d._context=b;d._next=k;d._error=e;d._complete=f;return d}
h(a,c);a.prototype.next=function(b){if(!this.isStopped&&this._next){var a=this._parentSubscriber;E.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,b)&&this.unsubscribe():this.__tryOrUnsub(this._next,b)}};a.prototype.error=function(b){if(!this.isStopped){var a=this._parentSubscriber,c=E.useDeprecatedSynchronousErrorHandling;if(this._error)c&&a.syncErrorThrowable?this.__tryOrSetError(a,this._error,b):this.__tryOrUnsub(this._error,b),this.unsubscribe();else if(a.syncErrorThrowable)c?
(a.syncErrorValue=b,a.syncErrorThrown=!0):U(b),this.unsubscribe();else{this.unsubscribe();if(c)throw b;U(b)}}};a.prototype.complete=function(){var b=this;if(!this.isStopped){var a=this._parentSubscriber;if(this._complete){var c=function(){return b._complete.call(b._context)};E.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,c):this.__tryOrUnsub(c)}this.unsubscribe()}};a.prototype.__tryOrUnsub=function(b,a){try{b.call(this._context,a)}catch(e){this.unsubscribe();
if(E.useDeprecatedSynchronousErrorHandling)throw e;U(e)}};a.prototype.__tryOrSetError=function(b,a,c){if(!E.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{a.call(this._context,c)}catch(f){return E.useDeprecatedSynchronousErrorHandling?(b.syncErrorValue=f,b.syncErrorThrown=!0):U(f),!0}return!1};a.prototype._unsubscribe=function(){var b=this._parentSubscriber;this._parentSubscriber=this._context=null;b.unsubscribe()};return a}(m),W="function"===typeof Symbol&&Symbol.observable||"@@observable",
$b=function(){return function(){var c=this;this.reject=this.resolve=null;this.promise=new Promise(function(a,b){c.resolve=a;c.reject=b})}}(),p=function(){function c(a){this._isScalar=!1;a&&(this._subscribe=a)}c.prototype.lift=function(a){var b=new c;b.source=this;b.operator=a;return b};c.prototype.subscribe=function(a,b,c){var d=this.operator;a:{if(a){if(a instanceof m)break a;if(a[ra]){a=a[ra]();break a}}a=a||b||c?new m(a,b,c):new m(qa)}d?a.add(d.call(a,this.source)):a.add(this.source||E.useDeprecatedSynchronousErrorHandling&&
!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a));if(E.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};c.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(b){E.useDeprecatedSynchronousErrorHandling&&(a.syncErrorThrown=!0,a.syncErrorValue=b),wa(a)?a.error(b):console.warn(b)}};c.prototype.forEach=function(a,b){var c=this;b=Va(b);return new b(function(b,d){var e;e=c.subscribe(function(b){try{a(b)}catch(q){d(q),
e&&e.unsubscribe()}},d,b)})};c.prototype._subscribe=function(a){var b=this.source;return b&&b.subscribe(a)};c.prototype[W]=function(){return this};c.prototype.pipe=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return 0===a.length?this:Ua(a)(this)};c.prototype.toPromise=function(a){var b=this;a=Va(a);return new a(function(a,c){var d;b.subscribe(function(b){return d=b},function(b){return c(b)},function(){return a(d)})})};c.create=function(a){return new c(a)};return c}();(function(){Symbol&&
Symbol.asyncIterator&&(p.prototype[Symbol.asyncIterator]=function(){return Zb(this)})})();var O=function(){function c(){Error.call(this);this.message="object unsubscribed";this.name="ObjectUnsubscribedError";return this}c.prototype=Object.create(Error.prototype);return c}(),Bb=function(c){function a(b,a){var d=c.call(this)||this;d.subject=b;d.subscriber=a;d.closed=!1;return d}h(a,c);a.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var b=this.subject,a=b.observers;this.subject=null;
!a||0===a.length||b.isStopped||b.closed||(b=a.indexOf(this.subscriber),-1!==b&&a.splice(b,1))}};return a}(r),Cb=function(c){function a(b){var a=c.call(this,b)||this;a.destination=b;return a}h(a,c);return a}(m),v=function(c){function a(){var b=c.call(this)||this;b.observers=[];b.closed=!1;b.isStopped=!1;b.hasError=!1;b.thrownError=null;return b}h(a,c);a.prototype[ra]=function(){return new Cb(this)};a.prototype.lift=function(b){var a=new Ka(this,this);a.operator=b;return a};a.prototype.next=function(b){if(this.closed)throw new O;
if(!this.isStopped)for(var a=this.observers,c=a.length,a=a.slice(),f=0;f<c;f++)a[f].next(b)};a.prototype.error=function(b){if(this.closed)throw new O;this.hasError=!0;this.thrownError=b;this.isStopped=!0;for(var a=this.observers,c=a.length,a=a.slice(),f=0;f<c;f++)a[f].error(b);this.observers.length=0};a.prototype.complete=function(){if(this.closed)throw new O;this.isStopped=!0;for(var b=this.observers,a=b.length,b=b.slice(),c=0;c<a;c++)b[c].complete();this.observers.length=0};a.prototype.unsubscribe=
function(){this.closed=this.isStopped=!0;this.observers=null};a.prototype._trySubscribe=function(b){if(this.closed)throw new O;return c.prototype._trySubscribe.call(this,b)};a.prototype._subscribe=function(b){if(this.closed)throw new O;if(this.hasError)return b.error(this.thrownError),r.EMPTY;if(this.isStopped)return b.complete(),r.EMPTY;this.observers.push(b);return new Bb(this,b)};a.prototype.asObservable=function(){var b=new p;b.source=this;return b};a.create=function(b,a){return new Ka(b,a)};
return a}(p),Ka=function(c){function a(b,a){var d=c.call(this)||this;d.destination=b;d.source=a;return d}h(a,c);a.prototype.next=function(b){var a=this.destination;a&&a.next&&a.next(b)};a.prototype.error=function(b){var a=this.destination;a&&a.error&&this.destination.error(b)};a.prototype.complete=function(){var b=this.destination;b&&b.complete&&this.destination.complete()};a.prototype._subscribe=function(b){return this.source?this.source.subscribe(b):r.EMPTY};return a}(v),ac=function(){function c(a){this.connectable=
a}c.prototype.call=function(a,b){var c=this.connectable;c._refCount++;a=new Zc(a,c);b=b.subscribe(a);a.closed||(a.connection=c.connect());return b};return c}(),Zc=function(c){function a(b,a){b=c.call(this,b)||this;b.connectable=a;b.connection=null;return b}h(a,c);a.prototype._unsubscribe=function(){var b=this.connectable;if(b){this.connectable=null;var a=b._refCount;0>=a?this.connection=null:(b._refCount=a-1,1<a?this.connection=null:(a=this.connection,b=b._connection,this.connection=null,!b||a&&b!==
a||b.unsubscribe()))}else this.connection=null};return a}(m),Db=function(c){function a(b,a){var d=c.call(this)||this;d.source=b;d.subjectFactory=a;d._refCount=0;d._isComplete=!1;return d}h(a,c);a.prototype._subscribe=function(b){return this.getSubject().subscribe(b)};a.prototype.getSubject=function(){var b=this._subject;if(!b||b.isStopped)this._subject=this.subjectFactory();return this._subject};a.prototype.connect=function(){var b=this._connection;b||(this._isComplete=!1,b=this._connection=new r,
b.add(this.source.subscribe(new $c(this.getSubject(),this))),b.closed&&(this._connection=null,b=r.EMPTY));return b};a.prototype.refCount=function(){return ya()(this)};return a}(p),Ic=function(){var c=Db.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}}}(),
$c=function(c){function a(b,a){b=c.call(this,b)||this;b.connectable=a;return b}h(a,c);a.prototype._error=function(b){this._unsubscribe();c.prototype._error.call(this,b)};a.prototype._complete=function(){this.connectable._isComplete=!0;this._unsubscribe();c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){var b=this.connectable;if(b){this.connectable=null;var a=b._connection;b._refCount=0;b._subject=null;b._connection=null;a&&a.unsubscribe()}};return a}(Cb);(function(c){function a(b,
a){b=c.call(this,b)||this;b.connectable=a;return b}h(a,c);a.prototype._unsubscribe=function(){var b=this.connectable;if(b){this.connectable=null;var a=b._refCount;0>=a?this.connection=null:(b._refCount=a-1,1<a?this.connection=null:(a=this.connection,b=b._connection,this.connection=null,!b||a&&b!==a||b.unsubscribe()))}else this.connection=null};return a})(m);var bd=function(){function c(a,b,c,e){this.keySelector=a;this.elementSelector=b;this.durationSelector=c;this.subjectSelector=e}c.prototype.call=
function(a,b){return b.subscribe(new ad(a,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))};return c}(),ad=function(c){function a(b,a,e,f,g){b=c.call(this,b)||this;b.keySelector=a;b.elementSelector=e;b.durationSelector=f;b.subjectSelector=g;b.groups=null;b.attemptedToUnsubscribe=!1;b.count=0;return b}h(a,c);a.prototype._next=function(b){var a;try{a=this.keySelector(b)}catch(e){this.error(e);return}this._group(b,a)};a.prototype._group=function(b,a){var c=this.groups;
c||(c=this.groups=new Map);var d=c.get(a),g;if(this.elementSelector)try{g=this.elementSelector(b)}catch(k){this.error(k)}else g=b;if(!d&&(d=this.subjectSelector?this.subjectSelector():new v,c.set(a,d),b=new La(a,d,this),this.destination.next(b),this.durationSelector)){b=void 0;try{b=this.durationSelector(new La(a,d))}catch(k){this.error(k);return}this.add(b.subscribe(new cd(a,d,this)))}d.closed||d.next(g)};a.prototype._error=function(b){var a=this.groups;a&&(a.forEach(function(a,c){a.error(b)}),a.clear());
this.destination.error(b)};a.prototype._complete=function(){var b=this.groups;b&&(b.forEach(function(b,a){b.complete()}),b.clear());this.destination.complete()};a.prototype.removeGroup=function(b){this.groups.delete(b)};a.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&c.prototype.unsubscribe.call(this))};return a}(m),cd=function(c){function a(b,a,e){var d=c.call(this,a)||this;d.key=b;d.group=a;d.parent=e;return d}h(a,c);a.prototype._next=function(b){this.complete()};
a.prototype._unsubscribe=function(){var b=this.parent,a=this.key;this.key=this.parent=null;b&&b.removeGroup(a)};return a}(m),La=function(c){function a(b,a,e){var d=c.call(this)||this;d.key=b;d.groupSubject=a;d.refCountSubscription=e;return d}h(a,c);a.prototype._subscribe=function(b){var a=new r,c=this.refCountSubscription,f=this.groupSubject;c&&!c.closed&&a.add(new dd(c));a.add(f.subscribe(b));return a};return a}(p),dd=function(c){function a(b){var a=c.call(this)||this;a.parent=b;b.count++;return a}
h(a,c);a.prototype.unsubscribe=function(){var b=this.parent;b.closed||this.closed||(c.prototype.unsubscribe.call(this),--b.count,0===b.count&&b.attemptedToUnsubscribe&&b.unsubscribe())};return a}(r),ed=Wa(Date),Eb=function(c){function a(b){var a=c.call(this)||this;a._value=b;return a}h(a,c);Object.defineProperty(a.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0});a.prototype._subscribe=function(b){var a=c.prototype._subscribe.call(this,b);a&&!a.closed&&b.next(this._value);
return a};a.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new O;return this._value};a.prototype.next=function(b){c.prototype.next.call(this,this._value=b)};return a}(v),Z=function(c){function a(b,a,e){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===a&&(a=Number.POSITIVE_INFINITY);void 0===e&&(e=Date);var d=c.call(this)||this;d.timestampProvider=e;d._events=[];d._infiniteTimeWindow=!1;d._bufferSize=1>b?1:b;d._windowTime=1>a?1:a;a===Number.POSITIVE_INFINITY?
(d._infiniteTimeWindow=!0,d.next=d.nextInfiniteTimeWindow):d.next=d.nextTimeWindow;return d}h(a,c);a.prototype.nextInfiniteTimeWindow=function(b){var a=this._events;a.push(b);a.length>this._bufferSize&&a.shift();c.prototype.next.call(this,b)};a.prototype.nextTimeWindow=function(b){this._events.push({time:this._getNow(),value:b});this._trimBufferThenGetEvents();c.prototype.next.call(this,b)};a.prototype._subscribe=function(b){var a=this._infiniteTimeWindow,c=a?this._events:this._trimBufferThenGetEvents(),
f=c.length,g;if(this.closed)throw new O;this.isStopped||this.hasError?g=r.EMPTY:(this.observers.push(b),g=new Bb(this,b));if(a)for(a=0;a<f&&!b.closed;a++)b.next(c[a]);else for(a=0;a<f&&!b.closed;a++)b.next(c[a].value);this.hasError?b.error(this.thrownError):this.isStopped&&b.complete();return g};a.prototype._getNow=function(){var b=this.timestampProvider;return b?b.now():Date.now()};a.prototype._trimBufferThenGetEvents=function(){for(var b=this._getNow(),a=this._bufferSize,c=this._windowTime,f=this._events,
g=f.length,k=0;k<g&&!(b-f[k].time<c);)k++;g>a&&(k=Math.max(k,g-a));0<k&&f.splice(0,k);return f};return a}(v),V=function(c){function a(){var b=null!==c&&c.apply(this,arguments)||this;b.value=null;b.hasNext=!1;b.hasCompleted=!1;return b}h(a,c);a.prototype._subscribe=function(b){return this.hasError?(b.error(this.thrownError),r.EMPTY):this.hasCompleted&&this.hasNext?(b.next(this.value),b.complete(),r.EMPTY):c.prototype._subscribe.call(this,b)};a.prototype.next=function(b){this.hasCompleted||(this.value=
b,this.hasNext=!0)};a.prototype.error=function(b){this.hasCompleted||c.prototype.error.call(this,b)};a.prototype.complete=function(){this.hasCompleted=!0;this.hasNext&&c.prototype.next.call(this,this.value);c.prototype.complete.call(this)};return a}(v),fd=1,Ma,za={},Fb={setImmediate:function(c){var a=fd++;za[a]=!0;Ma||(Ma=Promise.resolve());Ma.then(function(){return Xa(a)&&c()});return a},clearImmediate:function(c){Xa(c)}},ga=function(c){function a(b,a){var d=c.call(this,b,a)||this;d.scheduler=b;
d.work=a;d.pending=!1;return d}h(a,c);a.prototype.schedule=function(b,a){void 0===a&&(a=0);if(this.closed)return this;this.state=b;b=this.id;var c=this.scheduler;null!=b&&(this.id=this.recycleAsyncId(c,b,a));this.pending=!0;this.delay=a;this.id=this.id||this.requestAsyncId(c,this.id,a);return this};a.prototype.requestAsyncId=function(b,a,c){void 0===c&&(c=0);return setInterval(b.flush.bind(b,this),c)};a.prototype.recycleAsyncId=function(b,a,c){void 0===c&&(c=0);if(null!==c&&this.delay===c&&!1===this.pending)return a;
clearInterval(a)};a.prototype.execute=function(b,a){if(this.closed)return Error("executing a cancelled action");this.pending=!1;if(b=this._execute(b,a))return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))};a.prototype._execute=function(b,a){a=!1;var c=void 0;try{this.work(b)}catch(f){a=!0,c=!!f&&f||Error(f)}if(a)return this.unsubscribe(),c};a.prototype._unsubscribe=function(){var b=this.id,a=this.scheduler,c=a.actions,f=c.indexOf(this);this.state=this.work=
null;this.pending=!1;this.scheduler=null;-1!==f&&c.splice(f,1);null!=b&&(this.id=this.recycleAsyncId(a,b,null));this.delay=null};return a}(function(c){function a(b,a){return c.call(this)||this}h(a,c);a.prototype.schedule=function(b,a){return this};return a}(r)),gd=function(c){function a(b,a){var d=c.call(this,b,a)||this;d.scheduler=b;d.work=a;return d}h(a,c);a.prototype.requestAsyncId=function(b,a,e){void 0===e&&(e=0);if(null!==e&&0<e)return c.prototype.requestAsyncId.call(this,b,a,e);b.actions.push(this);
return b.scheduled||(b.scheduled=Fb.setImmediate(b.flush.bind(b,void 0)))};a.prototype.recycleAsyncId=function(b,a,e){void 0===e&&(e=0);if(null!==e&&0<e||null===e&&0<this.delay)return c.prototype.recycleAsyncId.call(this,b,a,e);0===b.actions.length&&(Fb.clearImmediate(a),b.scheduled=void 0)};return a}(ga),Na=function(){function c(a,b){void 0===b&&(b=c.now);this.SchedulerAction=a;this.now=b}c.prototype.schedule=function(a,b,c){void 0===b&&(b=0);return(new this.SchedulerAction(this,a)).schedule(c,b)};
c.now=function(){return Date.now()};return c}(),S=function(c){function a(b,d){void 0===d&&(d=Na.now);var e=c.call(this,b,function(){return a.delegate&&a.delegate!==e?a.delegate.now():d()})||this;e.actions=[];e.active=!1;e.scheduled=void 0;return e}h(a,c);a.prototype.schedule=function(b,d,e){void 0===d&&(d=0);return a.delegate&&a.delegate!==this?a.delegate.schedule(b,d,e):c.prototype.schedule.call(this,b,d,e)};a.prototype.flush=function(b){var a=this.actions;if(this.active)a.push(b);else{var c;this.active=
!0;do if(c=b.execute(b.state,b.delay))break;while(b=a.shift());this.active=!1;if(c){for(;b=a.shift();)b.unsubscribe();throw c;}}};return a}(Na),sa=new (function(c){function a(){return null!==c&&c.apply(this,arguments)||this}h(a,c);a.prototype.flush=function(b){this.active=!0;this.scheduled=void 0;var a=this.actions,c,f=-1;b=b||a.shift();var g=a.length;do if(c=b.execute(b.state,b.delay))break;while(++f<g&&(b=a.shift()));this.active=!1;if(c){for(;++f<g&&(b=a.shift());)b.unsubscribe();throw c;}};return a}(S))(gd),
z=new S(ga),hd=function(c){function a(b,a){var d=c.call(this,b,a)||this;d.scheduler=b;d.work=a;return d}h(a,c);a.prototype.schedule=function(b,a){void 0===a&&(a=0);if(0<a)return c.prototype.schedule.call(this,b,a);this.delay=a;this.state=b;this.scheduler.flush(this);return this};a.prototype.execute=function(b,a){return 0<a||this.closed?c.prototype.execute.call(this,b,a):this._execute(b,a)};a.prototype.requestAsyncId=function(b,a,e){void 0===e&&(e=0);return null!==e&&0<e||null===e&&0<this.delay?c.prototype.requestAsyncId.call(this,
b,a,e):b.flush(this)};return a}(ga),id=new (function(c){function a(){return null!==c&&c.apply(this,arguments)||this}h(a,c);return a}(S))(hd),jd=function(c){function a(b,a){var d=c.call(this,b,a)||this;d.scheduler=b;d.work=a;return d}h(a,c);a.prototype.requestAsyncId=function(b,a,e){void 0===e&&(e=0);if(null!==e&&0<e)return c.prototype.requestAsyncId.call(this,b,a,e);b.actions.push(this);return b.scheduled||(b.scheduled=requestAnimationFrame(function(){return b.flush(void 0)}))};a.prototype.recycleAsyncId=
function(b,a,e){void 0===e&&(e=0);if(null!==e&&0<e||null===e&&0<this.delay)return c.prototype.recycleAsyncId.call(this,b,a,e);0===b.actions.length&&(cancelAnimationFrame(a),b.scheduled=void 0)};return a}(ga),kd=new (function(c){function a(){return null!==c&&c.apply(this,arguments)||this}h(a,c);a.prototype.flush=function(b){this.active=!0;this.scheduled=void 0;var a=this.actions,c,f=-1;b=b||a.shift();var g=a.length;do if(c=b.execute(b.state,b.delay))break;while(++f<g&&(b=a.shift()));this.active=!1;
if(c){for(;++f<g&&(b=a.shift());)b.unsubscribe();throw c;}};return a}(S))(jd),Gb=function(c){function a(b,a){void 0===b&&(b=Oa);void 0===a&&(a=Number.POSITIVE_INFINITY);var d=c.call(this,b,function(){return d.frame})||this;d.maxFrames=a;d.frame=0;d.index=-1;return d}h(a,c);a.prototype.flush=function(){for(var b=this.actions,a=this.maxFrames,c,f;(f=b[0])&&f.delay<=a&&!(b.shift(),this.frame=f.delay,c=f.execute(f.state,f.delay)););if(c){for(;f=b.shift();)f.unsubscribe();throw c;}};a.frameTimeFactor=
10;return a}(S),Oa=function(c){function a(b,a,e){void 0===e&&(e=b.index+=1);var d=c.call(this,b,a)||this;d.scheduler=b;d.work=a;d.index=e;d.active=!0;d.index=b.index=e;return d}h(a,c);a.prototype.schedule=function(b,d){void 0===d&&(d=0);if(!this.id)return c.prototype.schedule.call(this,b,d);this.active=!1;var e=new a(this.scheduler,this.work);this.add(e);return e.schedule(b,d)};a.prototype.requestAsyncId=function(b,c,e){void 0===e&&(e=0);this.delay=b.frame+e;b=b.actions;b.push(this);b.sort(a.sortActions);
return!0};a.prototype.recycleAsyncId=function(b,a,c){};a.prototype._execute=function(b,a){if(!0===this.active)return c.prototype._execute.call(this,b,a)};a.sortActions=function(b,a){return b.delay===a.delay?b.index===a.index?0:b.index>a.index?1:-1:b.delay>a.delay?1:-1};return a}(ga),G=new p(function(c){return c.complete()}),Ya=function(c){return function(a){for(var b=0,d=c.length;b<d&&!a.closed;b++)a.next(c[b]);a.complete()}};(function(c){c.NEXT="N";c.ERROR="E";c.COMPLETE="C"})(l.NotificationKind||
(l.NotificationKind={}));var x=function(){function c(a,b,c){this.kind=a;this.value=b;this.error=c;this.hasValue="N"===a}c.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);case "C":return a.complete&&a.complete()}};c.prototype.do=function(a,b,c){switch(this.kind){case "N":return a&&a(this.value);case "E":return b&&b(this.error);case "C":return c&&c()}};c.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?
this.observe(a):this.do(a,b,c)};c.prototype.toObservable=function(){switch(this.kind){case "N":return ja(this.value);case "E":return Ba(this.error);case "C":return G}throw Error("unexpected notification kind value");};c.createNext=function(a){return"undefined"!==typeof a?new c("N",a):c.undefinedValueNotification};c.createError=function(a){return new c("E",void 0,a)};c.createComplete=function(){return c.completeNotification};c.completeNotification=new c("C");c.undefinedValueNotification=new c("N",
void 0);return c}(),P=function(){function c(){Error.call(this);this.message="no elements in sequence";this.name="EmptyError";return this}c.prototype=Object.create(Error.prototype);return c}(),aa=function(){function c(){Error.call(this);this.message="argument out of range";this.name="ArgumentOutOfRangeError";return this}c.prototype=Object.create(Error.prototype);return c}(),Hb=function(){function c(){Error.call(this);this.message="Timeout has occurred";this.name="TimeoutError";return this}c.prototype=
Object.create(Error.prototype);return c}(),dc=function(){function c(a,b){this.project=a;this.thisArg=b}c.prototype.call=function(a,b){return b.subscribe(new ld(a,this.project,this.thisArg))};return c}(),ld=function(c){function a(b,a,e){b=c.call(this,b)||this;b.project=a;b.count=0;b.thisArg=e||b;return b}h(a,c);a.prototype._next=function(b){var a;try{a=this.project.call(this.thisArg,b,this.count++)}catch(e){this.destination.error(e);return}this.destination.next(a)};return a}(m),u=function(c){function a(){return null!==
c&&c.apply(this,arguments)||this}h(a,c);a.prototype.notifyNext=function(b,a,c,f,g){this.destination.next(a)};a.prototype.notifyError=function(b,a){this.destination.error(b)};a.prototype.notifyComplete=function(b){this.destination.complete()};return a}(m),L=function(c){function a(b,a,e){var d=c.call(this)||this;d.parent=b;d.outerValue=a;d.outerIndex=e;d.index=0;return d}h(a,c);a.prototype._next=function(b){this.parent.notifyNext(this.outerValue,b,this.outerIndex,this.index++,this)};a.prototype._error=
function(b){this.parent.notifyError(b,this);this.unsubscribe()};a.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return a}(m),md=function(c){return function(a){c.then(function(b){a.closed||(a.next(b),a.complete())},function(b){return a.error(b)}).then(null,U);return a}},I;I="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";var nd=function(c){return function(a){var b=c[I]();do{var d=b.next();if(d.done){a.complete();break}a.next(d.value);if(a.closed)break}while(1);
"function"===typeof b.return&&a.add(function(){b.return&&b.return()});return a}},od=function(c){return function(a){var b=c[W]();if("function"!==typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return bb(b,a)}},eb=function(c){return c&&"number"===typeof c.length&&"function"!==typeof c},ka=function(c){if(c&&"function"===typeof c[W])return od(c);if(eb(c))return Ya(c);if(cb(c))return md(c);if(c&&"function"===typeof c[I])return nd(c);if(Symbol&&Symbol.asyncIterator&&
c&&"function"===typeof c[Symbol.asyncIterator])return ic(c);c=va(c)?"an invalid object":"'"+c+"'";throw new TypeError("You provided "+c+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.");},Ib={},Ga=function(){function c(a){this.resultSelector=a}c.prototype.call=function(a,b){return b.subscribe(new pd(a,this.resultSelector))};return c}(),pd=function(c){function a(b,a){b=c.call(this,b)||this;b.resultSelector=a;b.active=0;b.values=[];b.observables=[];return b}
h(a,c);a.prototype._next=function(b){this.values.push(Ib);this.observables.push(b)};a.prototype._complete=function(){var b=this.observables,a=b.length;if(0===a)this.destination.complete();else{this.toRespond=this.active=a;for(var c=0;c<a;c++){var f=b[c];this.add(t(this,f,f,c))}}};a.prototype.notifyComplete=function(b){0===--this.active&&this.destination.complete()};a.prototype.notifyNext=function(b,a,c,f,g){b=this.values;f=b[c];f=this.toRespond?f===Ib?--this.toRespond:this.toRespond:0;b[c]=a;0===
f&&(this.resultSelector?this._tryResultSelector(b):this.destination.next(b.slice()))};a.prototype._tryResultSelector=function(b){var a;try{a=this.resultSelector.apply(this,b)}catch(e){this.destination.error(e);return}this.destination.next(a)};return a}(u),oc=function(){function c(a,b){void 0===b&&(b=Number.POSITIVE_INFINITY);this.project=a;this.concurrent=b}c.prototype.call=function(a,b){return b.subscribe(new qd(a,this.project,this.concurrent))};return c}(),qd=function(c){function a(b,a,e){void 0===
e&&(e=Number.POSITIVE_INFINITY);b=c.call(this,b)||this;b.project=a;b.concurrent=e;b.hasCompleted=!1;b.buffer=[];b.active=0;b.index=0;return b}h(a,c);a.prototype._next=function(b){this.active<this.concurrent?this._tryNext(b):this.buffer.push(b)};a.prototype._tryNext=function(b){var a,c=this.index++;try{a=this.project(b,c)}catch(f){this.destination.error(f);return}this.active++;this._innerSub(a,b,c)};a.prototype._innerSub=function(b,a,c){a=new L(this,a,c);this.destination.add(a);t(this,b,void 0,void 0,
a)};a.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();this.unsubscribe()};a.prototype.notifyNext=function(b,a,c,f,g){this.destination.next(a)};a.prototype.notifyComplete=function(b){var a=this.buffer;this.remove(b);this.active--;0<a.length?this._next(a.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return a}(u),Jb=new p(H),sc=function(){function c(a,b){this.predicate=a;this.thisArg=b}c.prototype.call=
function(a,b){return b.subscribe(new rd(a,this.predicate,this.thisArg))};return c}(),rd=function(c){function a(b,a,e){b=c.call(this,b)||this;b.predicate=a;b.thisArg=e;b.count=0;return b}h(a,c);a.prototype._next=function(b){var a;try{a=this.predicate.call(this.thisArg,b,this.count++)}catch(e){this.destination.error(e);return}a&&this.destination.next(b)};return a}(m),tc=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new sd(a))};return c}(),sd=function(c){function a(b){b=
c.call(this,b)||this;b.hasFirst=!1;b.observables=[];b.subscriptions=[];return b}h(a,c);a.prototype._next=function(b){this.observables.push(b)};a.prototype._complete=function(){var b=this.observables,a=b.length;if(0===a)this.destination.complete();else{for(var c=0;c<a&&!this.hasFirst;c++){var f=b[c],f=t(this,f,f,c);this.subscriptions&&this.subscriptions.push(f);this.add(f)}this.observables=null}};a.prototype.notifyNext=function(b,a,c,f,g){if(!this.hasFirst){this.hasFirst=!0;for(b=0;b<this.subscriptions.length;b++)b!==
c&&(f=this.subscriptions[b],f.unsubscribe(),this.remove(f));this.subscriptions=null}this.destination.next(a)};a.prototype.notifyComplete=function(b){this.hasFirst=!0;c.prototype.notifyComplete.call(this,b)};a.prototype.notifyError=function(b,a){this.hasFirst=!0;c.prototype.notifyError.call(this,b,a)};return a}(u),nb=function(){function c(a){this.resultSelector=a}c.prototype.call=function(a,b){return b.subscribe(new td(a,this.resultSelector))};return c}(),td=function(c){function a(b,a,e){void 0===
e&&(e=Object.create(null));b=c.call(this,b)||this;b.iterators=[];b.active=0;b.resultSelector=a;b.values=e;return b}h(a,c);a.prototype._next=function(b){var a=this.iterators;y(b)?a.push(new ud(b)):"function"===typeof b[I]?a.push(new vd(b[I]())):a.push(new wd(this.destination,this,b))};a.prototype._complete=function(){var b=this.iterators,a=b.length;this.unsubscribe();if(0===a)this.destination.complete();else{this.active=a;for(var c=0;c<a;c++){var f=b[c];f.stillUnsubscribed?this.destination.add(f.subscribe(f,
c)):this.active--}}};a.prototype.notifyInactive=function(){this.active--;0===this.active&&this.destination.complete()};a.prototype.checkIterators=function(){for(var b=this.iterators,a=b.length,c=this.destination,f=0;f<a;f++){var g=b[f];if("function"===typeof g.hasValue&&!g.hasValue())return}for(var k=!1,h=[],f=0;f<a;f++){var g=b[f],l=g.next();g.hasCompleted()&&(k=!0);if(l.done){c.complete();return}h.push(l.value)}this.resultSelector?this._tryresultSelector(h):c.next(h);k&&c.complete()};a.prototype._tryresultSelector=
function(b){var a;try{a=this.resultSelector.apply(this,b)}catch(e){this.destination.error(e);return}this.destination.next(a)};return a}(m),vd=function(){function c(a){this.iterator=a;this.nextResult=a.next()}c.prototype.hasValue=function(){return!0};c.prototype.next=function(){var a=this.nextResult;this.nextResult=this.iterator.next();return a};c.prototype.hasCompleted=function(){var a=this.nextResult;return a&&!!a.done};return c}(),ud=function(){function c(a){this.array=a;this.length=this.index=
0;this.length=a.length}c.prototype[I]=function(){return this};c.prototype.next=function(a){a=this.index++;var b=this.array;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0}};c.prototype.hasValue=function(){return this.array.length>this.index};c.prototype.hasCompleted=function(){return this.array.length===this.index};return c}(),wd=function(c){function a(b,a,e){b=c.call(this,b)||this;b.parent=a;b.observable=e;b.stillUnsubscribed=!0;b.buffer=[];b.isComplete=!1;return b}h(a,c);a.prototype[I]=
function(){return this};a.prototype.next=function(){var b=this.buffer;return 0===b.length&&this.isComplete?{value:null,done:!0}:{value:b.shift(),done:!1}};a.prototype.hasValue=function(){return 0<this.buffer.length};a.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete};a.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()};a.prototype.notifyNext=function(b,a,c,f,g){this.buffer.push(a);
this.parent.checkIterators()};a.prototype.subscribe=function(b,a){return t(this,this.observable,this,a)};return a}(u),wc=function(){function c(a){this.durationSelector=a}c.prototype.call=function(a,b){return b.subscribe(new xd(a,this.durationSelector))};return c}(),xd=function(c){function a(b,a){b=c.call(this,b)||this;b.durationSelector=a;b.value=null;b.hasValue=!1;b.throttled=null;return b}h(a,c);a.prototype._next=function(b){this.value=b;this.hasValue=!0;if(!this.throttled){var a=void 0;try{var c=
this.durationSelector,a=c(b)}catch(f){return this.destination.error(f)}b=t(this,a);!b||b.closed?this.clearThrottle():this.add(this.throttled=b)}};a.prototype.clearThrottle=function(){var b=this.value,a=this.hasValue,c=this.throttled;c&&(this.remove(c),this.throttled=null,c.unsubscribe());a&&(this.value=null,this.hasValue=!1,this.destination.next(b))};a.prototype.notifyNext=function(b,a,c,f){this.clearThrottle()};a.prototype.notifyComplete=function(){this.clearThrottle()};return a}(u),zd=function(){function c(a){this.closingNotifier=
a}c.prototype.call=function(a,b){return b.subscribe(new yd(a,this.closingNotifier))};return c}(),yd=function(c){function a(b,a){b=c.call(this,b)||this;b.buffer=[];b.add(t(b,a));return b}h(a,c);a.prototype._next=function(b){this.buffer.push(b)};a.prototype.notifyNext=function(b,a,c,f,g){b=this.buffer;this.buffer=[];this.destination.next(b)};return a}(u),Cd=function(){function c(a,b){this.bufferSize=a;this.subscriberClass=(this.startBufferEvery=b)&&a!==b?Ad:Bd}c.prototype.call=function(a,b){return b.subscribe(new this.subscriberClass(a,
this.bufferSize,this.startBufferEvery))};return c}(),Bd=function(c){function a(b,a){b=c.call(this,b)||this;b.bufferSize=a;b.buffer=[];return b}h(a,c);a.prototype._next=function(b){var a=this.buffer;a.push(b);a.length==this.bufferSize&&(this.destination.next(a),this.buffer=[])};a.prototype._complete=function(){var b=this.buffer;0<b.length&&this.destination.next(b);c.prototype._complete.call(this)};return a}(m),Ad=function(c){function a(b,a,e){b=c.call(this,b)||this;b.bufferSize=a;b.startBufferEvery=
e;b.buffers=[];b.count=0;return b}h(a,c);a.prototype._next=function(b){var a=this.bufferSize,c=this.startBufferEvery,f=this.buffers,g=this.count;this.count++;0===g%c&&f.push([]);for(c=f.length;c--;)g=f[c],g.push(b),g.length===a&&(f.splice(c,1),this.destination.next(g))};a.prototype._complete=function(){for(var b=this.buffers,a=this.destination;0<b.length;){var e=b.shift();0<e.length&&a.next(e)}c.prototype._complete.call(this)};return a}(m),Ed=function(){function c(a,b,c,e){this.bufferTimeSpan=a;this.bufferCreationInterval=
b;this.maxBufferSize=c;this.scheduler=e}c.prototype.call=function(a,b){return b.subscribe(new Dd(a,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))};return c}(),Fd=function(){return function(){this.buffer=[]}}(),Dd=function(c){function a(b,a,e,f,g){b=c.call(this,b)||this;b.bufferTimeSpan=a;b.bufferCreationInterval=e;b.maxBufferSize=f;b.scheduler=g;b.contexts=[];f=b.openContext();b.timespanOnly=null==e||0>e;if(b.timespanOnly)b.add(f.closeAction=g.schedule(pb,a,{subscriber:b,
context:f,bufferTimeSpan:a}));else{var d={bufferTimeSpan:a,bufferCreationInterval:e,subscriber:b,scheduler:g};b.add(f.closeAction=g.schedule(qb,a,{subscriber:b,context:f}));b.add(g.schedule(xc,e,d))}return b}h(a,c);a.prototype._next=function(b){for(var a=this.contexts,c=a.length,f,g=0;g<c;g++){var k=a[g],h=k.buffer;h.push(b);h.length==this.maxBufferSize&&(f=k)}if(f)this.onBufferFull(f)};a.prototype._error=function(b){this.contexts.length=0;c.prototype._error.call(this,b)};a.prototype._complete=function(){for(var b=
this.contexts,a=this.destination;0<b.length;){var e=b.shift();a.next(e.buffer)}c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){this.contexts=null};a.prototype.onBufferFull=function(b){this.closeContext(b);b=b.closeAction;b.unsubscribe();this.remove(b);if(!this.closed&&this.timespanOnly){b=this.openContext();var a=this.bufferTimeSpan;this.add(b.closeAction=this.scheduler.schedule(pb,a,{subscriber:this,context:b,bufferTimeSpan:a}))}};a.prototype.openContext=function(){var b=new Fd;
this.contexts.push(b);return b};a.prototype.closeContext=function(b){this.destination.next(b.buffer);var a=this.contexts;0<=(a?a.indexOf(b):-1)&&a.splice(a.indexOf(b),1)};return a}(m),Hd=function(){function c(a,b){this.openings=a;this.closingSelector=b}c.prototype.call=function(a,b){return b.subscribe(new Gd(a,this.openings,this.closingSelector))};return c}(),Gd=function(c){function a(b,a,e){b=c.call(this,b)||this;b.openings=a;b.closingSelector=e;b.contexts=[];b.add(t(b,a));return b}h(a,c);a.prototype._next=
function(b){for(var a=this.contexts,c=a.length,f=0;f<c;f++)a[f].buffer.push(b)};a.prototype._error=function(b){for(var a=this.contexts;0<a.length;){var e=a.shift();e.subscription.unsubscribe();e.buffer=null;e.subscription=null}this.contexts=null;c.prototype._error.call(this,b)};a.prototype._complete=function(){for(var b=this.contexts;0<b.length;){var a=b.shift();this.destination.next(a.buffer);a.subscription.unsubscribe();a.buffer=null;a.subscription=null}this.contexts=null;c.prototype._complete.call(this)};
a.prototype.notifyNext=function(b,a,c,f,g){b?this.closeBuffer(b):this.openBuffer(a)};a.prototype.notifyComplete=function(b){this.closeBuffer(b.context)};a.prototype.openBuffer=function(b){try{var a=this.closingSelector.call(this,b);a&&this.trySubscribe(a)}catch(e){this._error(e)}};a.prototype.closeBuffer=function(b){var a=this.contexts;if(a&&b){var c=b.subscription;this.destination.next(b.buffer);a.splice(a.indexOf(b),1);this.remove(c);c.unsubscribe()}};a.prototype.trySubscribe=function(b){var a=
this.contexts,c=new r,f={buffer:[],subscription:c};a.push(f);b=t(this,b,f);!b||b.closed?this.closeBuffer(f):(b.context=f,this.add(b),c.add(b))};return a}(u),Jd=function(){function c(a){this.closingSelector=a}c.prototype.call=function(a,b){return b.subscribe(new Id(a,this.closingSelector))};return c}(),Id=function(c){function a(b,a){b=c.call(this,b)||this;b.closingSelector=a;b.subscribing=!1;b.openBuffer();return b}h(a,c);a.prototype._next=function(b){this.buffer.push(b)};a.prototype._complete=function(){var b=
this.buffer;b&&this.destination.next(b);c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){this.buffer=null;this.subscribing=!1};a.prototype.notifyNext=function(b,a,c,f,g){this.openBuffer()};a.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()};a.prototype.openBuffer=function(){var b=this.closingSubscription;b&&(this.remove(b),b.unsubscribe());(b=this.buffer)&&this.destination.next(b);this.buffer=[];var a;try{var c=this.closingSelector;a=c()}catch(f){return this.error(f)}this.closingSubscription=
b=new r;this.add(b);this.subscribing=!0;b.add(t(this,a));this.subscribing=!1};return a}(u),Ld=function(){function c(a){this.selector=a}c.prototype.call=function(a,b){return b.subscribe(new Kd(a,this.selector,this.caught))};return c}(),Kd=function(c){function a(b,a,e){b=c.call(this,b)||this;b.selector=a;b.caught=e;return b}h(a,c);a.prototype.error=function(b){if(!this.isStopped){var a=void 0;try{a=this.selector(b,this.caught)}catch(e){c.prototype.error.call(this,e);return}this._unsubscribeAndRecycle();
b=new L(this,void 0,void 0);this.add(b);t(this,a,void 0,void 0,b)}};return a}(u),Nd=function(){function c(a,b){this.predicate=a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new Md(a,this.predicate,this.source))};return c}(),Md=function(c){function a(b,a,e){b=c.call(this,b)||this;b.predicate=a;b.source=e;b.count=0;b.index=0;return b}h(a,c);a.prototype._next=function(b){this.predicate?this._tryPredicate(b):this.count++};a.prototype._tryPredicate=function(b){var a;try{a=this.predicate(b,
this.index++,this.source)}catch(e){this.destination.error(e);return}a&&this.count++};a.prototype._complete=function(){this.destination.next(this.count);this.destination.complete()};return a}(m),Pd=function(){function c(a){this.durationSelector=a}c.prototype.call=function(a,b){return b.subscribe(new Od(a,this.durationSelector))};return c}(),Od=function(c){function a(b,a){b=c.call(this,b)||this;b.durationSelector=a;b.value=null;b.hasValue=!1;b.durationSubscription=null;return b}h(a,c);a.prototype._next=
function(b){try{var a=this.durationSelector.call(this,b);a&&this._tryNext(b,a)}catch(e){this.destination.error(e)}};a.prototype._complete=function(){this.emitValue();this.destination.complete()};a.prototype._tryNext=function(b,a){var c=this.durationSubscription;this.value=b;this.hasValue=!0;c&&(c.unsubscribe(),this.remove(c));(c=t(this,a))&&!c.closed&&this.add(this.durationSubscription=c)};a.prototype.notifyNext=function(b,a,c,f,g){this.emitValue()};a.prototype.notifyComplete=function(){this.emitValue()};
a.prototype.emitValue=function(){if(this.hasValue){var b=this.value,a=this.durationSubscription;a&&(this.durationSubscription=null,a.unsubscribe(),this.remove(a));this.value=null;this.hasValue=!1;c.prototype._next.call(this,b)}};return a}(u),Rd=function(){function c(a,b){this.dueTime=a;this.scheduler=b}c.prototype.call=function(a,b){return b.subscribe(new Qd(a,this.dueTime,this.scheduler))};return c}(),Qd=function(c){function a(b,a,e){b=c.call(this,b)||this;b.dueTime=a;b.scheduler=e;b.debouncedSubscription=
null;b.lastValue=null;b.hasValue=!1;return b}h(a,c);a.prototype._next=function(b){this.clearDebounce();this.lastValue=b;this.hasValue=!0;this.add(this.debouncedSubscription=this.scheduler.schedule(yc,this.dueTime,this))};a.prototype._complete=function(){this.debouncedNext();this.destination.complete()};a.prototype.debouncedNext=function(){this.clearDebounce();if(this.hasValue){var b=this.lastValue;this.lastValue=null;this.hasValue=!1;this.destination.next(b)}};a.prototype.clearDebounce=function(){var b=
this.debouncedSubscription;null!==b&&(this.remove(b),b.unsubscribe(),this.debouncedSubscription=null)};return a}(m),zc=function(){function c(a){this.defaultValue=a}c.prototype.call=function(a,b){return b.subscribe(new Sd(a,this.defaultValue))};return c}(),Sd=function(c){function a(b,a){b=c.call(this,b)||this;b.defaultValue=a;b.isEmpty=!0;return b}h(a,c);a.prototype._next=function(b){this.isEmpty=!1;this.destination.next(b)};a.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue);
this.destination.complete()};return a}(m),Ud=function(){function c(a,b){this.delay=a;this.scheduler=b}c.prototype.call=function(a,b){return b.subscribe(new Td(a,this.delay,this.scheduler))};return c}(),Td=function(c){function a(b,a,e){b=c.call(this,b)||this;b.delay=a;b.scheduler=e;b.queue=[];b.active=!1;b.errored=!1;return b}h(a,c);a.dispatch=function(b){for(var a=b.source,c=a.queue,f=b.scheduler,g=b.destination;0<c.length&&0>=c[0].time-f.now();)c.shift().notification.observe(g);0<c.length?(a=Math.max(0,
c[0].time-f.now()),this.schedule(b,a)):(a.isStopped?a.destination.complete():this.unsubscribe(),a.active=!1)};a.prototype._schedule=function(b){this.active=!0;this.destination.add(b.schedule(a.dispatch,this.delay,{source:this,destination:this.destination,scheduler:b}))};a.prototype.scheduleNotification=function(b){if(!0!==this.errored){var a=this.scheduler;b=new Vd(a.now()+this.delay,b);this.queue.push(b);!1===this.active&&this._schedule(a)}};a.prototype._next=function(b){this.scheduleNotification(x.createNext(b))};
a.prototype._error=function(b){this.errored=!0;this.queue=[];this.destination.error(b);this.unsubscribe()};a.prototype._complete=function(){0===this.queue.length&&this.destination.complete();this.unsubscribe()};return a}(m),Vd=function(){return function(c,a){this.time=c;this.notification=a}}(),Kb=function(){function c(a){this.delayDurationSelector=a}c.prototype.call=function(a,b){return b.subscribe(new Wd(a,this.delayDurationSelector))};return c}(),Wd=function(c){function a(b,a){b=c.call(this,b)||
this;b.delayDurationSelector=a;b.completed=!1;b.delayNotifierSubscriptions=[];b.index=0;return b}h(a,c);a.prototype.notifyNext=function(b,a,c,f,g){this.destination.next(b);this.removeSubscription(g);this.tryComplete()};a.prototype.notifyError=function(b,a){this._error(b)};a.prototype.notifyComplete=function(b){(b=this.removeSubscription(b))&&this.destination.next(b);this.tryComplete()};a.prototype._next=function(b){var a=this.index++;try{var c=this.delayDurationSelector(b,a);c&&this.tryDelay(c,b)}catch(f){this.destination.error(f)}};
a.prototype._complete=function(){this.completed=!0;this.tryComplete();this.unsubscribe()};a.prototype.removeSubscription=function(b){b.unsubscribe();var a=this.delayNotifierSubscriptions.indexOf(b);-1!==a&&this.delayNotifierSubscriptions.splice(a,1);return b.outerValue};a.prototype.tryDelay=function(b,a){(b=t(this,b,a))&&!b.closed&&(this.destination.add(b),this.delayNotifierSubscriptions.push(b))};a.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()};
return a}(u),Yd=function(c){function a(b,a){var d=c.call(this)||this;d.source=b;d.subscriptionDelay=a;return d}h(a,c);a.prototype._subscribe=function(b){this.subscriptionDelay.subscribe(new Xd(b,this.source))};return a}(p),Xd=function(c){function a(b,a){var d=c.call(this)||this;d.parent=b;d.source=a;d.sourceSubscribed=!1;return d}h(a,c);a.prototype._next=function(b){this.subscribeToSource()};a.prototype._error=function(b){this.unsubscribe();this.parent.error(b)};a.prototype._complete=function(){this.unsubscribe();
this.subscribeToSource()};a.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))};return a}(m),$d=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new Zd(a))};return c}(),Zd=function(c){function a(b){return c.call(this,b)||this}h(a,c);a.prototype._next=function(b){b.observe(this.destination)};return a}(m),be=function(){function c(a,b){this.keySelector=a;this.flushes=b}c.prototype.call=
function(a,b){return b.subscribe(new ae(a,this.keySelector,this.flushes))};return c}(),ae=function(c){function a(b,a,e){b=c.call(this,b)||this;b.keySelector=a;b.values=new Set;e&&b.add(t(b,e));return b}h(a,c);a.prototype.notifyNext=function(b,a,c,f,g){this.values.clear()};a.prototype.notifyError=function(b,a){this._error(b)};a.prototype._next=function(b){this.keySelector?this._useKeySelector(b):this._finalizeNext(b,b)};a.prototype._useKeySelector=function(b){var a,c=this.destination;try{a=this.keySelector(b)}catch(f){c.error(f);
return}this._finalizeNext(a,b)};a.prototype._finalizeNext=function(b,a){var c=this.values;c.has(b)||(c.add(b),this.destination.next(a))};return a}(u),Ac=function(){function c(a,b){this.compare=a;this.keySelector=b}c.prototype.call=function(a,b){return b.subscribe(new ce(a,this.compare,this.keySelector))};return c}(),ce=function(c){function a(b,a,e){b=c.call(this,b)||this;b.keySelector=e;b.hasKey=!1;"function"===typeof a&&(b.compare=a);return b}h(a,c);a.prototype.compare=function(b,a){return b===a};
a.prototype._next=function(b){var a;try{var c=this.keySelector;a=c?c(b):b}catch(g){return this.destination.error(g)}c=!1;if(this.hasKey)try{var f=this.compare,c=f(this.key,a)}catch(g){return this.destination.error(g)}else this.hasKey=!0;c||(this.key=a,this.destination.next(b))};return a}(m),Cc=function(){function c(a){this.errorFactory=a}c.prototype.call=function(a,b){return b.subscribe(new de(a,this.errorFactory))};return c}(),de=function(c){function a(b,a){b=c.call(this,b)||this;b.errorFactory=
a;b.hasValue=!1;return b}h(a,c);a.prototype._next=function(b){this.hasValue=!0;this.destination.next(b)};a.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var b=void 0;try{b=this.errorFactory()}catch(d){b=d}this.destination.error(b)};return a}(m),Dc=function(){function c(a){this.total=a;if(0>this.total)throw new aa;}c.prototype.call=function(a,b){return b.subscribe(new ee(a,this.total))};return c}(),ee=function(c){function a(b,a){b=c.call(this,b)||this;b.total=a;
b.count=0;return b}h(a,c);a.prototype._next=function(b){var a=this.total,c=++this.count;c<=a&&(this.destination.next(b),c===a&&(this.destination.complete(),this.unsubscribe()))};return a}(m),ge=function(){function c(a,b,c){this.predicate=a;this.thisArg=b;this.source=c}c.prototype.call=function(a,b){return b.subscribe(new fe(a,this.predicate,this.thisArg,this.source))};return c}(),fe=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.predicate=a;b.thisArg=e;b.source=f;b.index=0;b.thisArg=e||
b;return b}h(a,c);a.prototype.notifyComplete=function(b){this.destination.next(b);this.destination.complete()};a.prototype._next=function(b){var a=!1;try{a=this.predicate.call(this.thisArg,b,this.index++,this.source)}catch(e){this.destination.error(e);return}a||this.notifyComplete(!1)};a.prototype._complete=function(){this.notifyComplete(!0)};return a}(m),ie=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new he(a))};return c}(),he=function(c){function a(b){b=c.call(this,
b)||this;b.hasCompleted=!1;b.hasSubscription=!1;return b}h(a,c);a.prototype._next=function(b){this.hasSubscription||(this.hasSubscription=!0,this.add(t(this,b)))};a.prototype._complete=function(){this.hasCompleted=!0;this.hasSubscription||this.destination.complete()};a.prototype.notifyComplete=function(b){this.remove(b);this.hasSubscription=!1;this.hasCompleted&&this.destination.complete()};return a}(u),Ec=function(){function c(a){this.project=a}c.prototype.call=function(a,b){return b.subscribe(new je(a,
this.project))};return c}(),je=function(c){function a(b,a){b=c.call(this,b)||this;b.project=a;b.hasSubscription=!1;b.hasCompleted=!1;b.index=0;return b}h(a,c);a.prototype._next=function(b){this.hasSubscription||this.tryNext(b)};a.prototype.tryNext=function(b){var a,c=this.index++;try{a=this.project(b,c)}catch(f){this.destination.error(f);return}this.hasSubscription=!0;this._innerSub(a,b,c)};a.prototype._innerSub=function(b,a,c){a=new L(this,a,c);this.destination.add(a);t(this,b,void 0,void 0,a)};
a.prototype._complete=function(){this.hasCompleted=!0;this.hasSubscription||this.destination.complete();this.unsubscribe()};a.prototype.notifyNext=function(b,a,c,f,g){this.destination.next(a)};a.prototype.notifyError=function(b){this.destination.error(b)};a.prototype.notifyComplete=function(b){this.destination.remove(b);this.hasSubscription=!1;this.hasCompleted&&this.destination.complete()};return a}(u),le=function(){function c(a,b,c){this.project=a;this.concurrent=b;this.scheduler=c}c.prototype.call=
function(a,b){return b.subscribe(new ke(a,this.project,this.concurrent,this.scheduler))};return c}(),ke=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.project=a;b.concurrent=e;b.scheduler=f;b.index=0;b.active=0;b.hasCompleted=!1;e<Number.POSITIVE_INFINITY&&(b.buffer=[]);return b}h(a,c);a.dispatch=function(b){b.subscriber.subscribeToProjection(b.result,b.value,b.index)};a.prototype._next=function(b){var c=this.destination;if(c.closed)this._complete();else{var e=this.index++;if(this.active<
this.concurrent){c.next(b);try{var f=this.project,g=f(b,e);this.scheduler?this.destination.add(this.scheduler.schedule(a.dispatch,0,{subscriber:this,result:g,value:b,index:e})):this.subscribeToProjection(g,b,e)}catch(k){c.error(k)}}else this.buffer.push(b)}};a.prototype.subscribeToProjection=function(b,a,c){this.active++;this.destination.add(t(this,b,a,c))};a.prototype._complete=function(){(this.hasCompleted=!0,0===this.active)&&this.destination.complete();this.unsubscribe()};a.prototype.notifyNext=
function(b,a,c,f,g){this._next(a)};a.prototype.notifyComplete=function(b){var a=this.buffer;this.destination.remove(b);this.active--;a&&0<a.length&&this._next(a.shift());this.hasCompleted&&0===this.active&&this.destination.complete()};return a}(u),ne=function(){function c(a){this.callback=a}c.prototype.call=function(a,b){return bb(b,new me(a,this.callback))};return c}(),me=function(c){function a(b,a){b=c.call(this,b)||this;b.add(new r(a));return b}h(a,c);return a}(m),Lb=function(){function c(a,b,
c,e){this.predicate=a;this.source=b;this.yieldIndex=c;this.thisArg=e}c.prototype.call=function(a,b){return b.subscribe(new oe(a,this.predicate,this.source,this.yieldIndex,this.thisArg))};return c}(),oe=function(c){function a(b,a,e,f,g){b=c.call(this,b)||this;b.predicate=a;b.source=e;b.yieldIndex=f;b.thisArg=g;b.index=0;return b}h(a,c);a.prototype.notifyComplete=function(b){var a=this.destination;a.next(b);a.complete();this.unsubscribe()};a.prototype._next=function(b){var a=this.predicate,c=this.thisArg,
f=this.index++;try{a.call(c||this,b,f,this.source)&&this.notifyComplete(this.yieldIndex?f:b)}catch(g){this.destination.error(g)}};a.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)};return a}(m),qe=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new pe(a))};return c}(),pe=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}h(a,c);a.prototype._next=function(b){};return a}(m),se=function(){function c(){}c.prototype.call=function(a,
b){return b.subscribe(new re(a))};return c}(),re=function(c){function a(b){return c.call(this,b)||this}h(a,c);a.prototype.notifyComplete=function(b){var a=this.destination;a.next(b);a.complete()};a.prototype._next=function(b){this.notifyComplete(!1)};a.prototype._complete=function(){this.notifyComplete(!0)};return a}(m),Fc=function(){function c(a){this.total=a;if(0>this.total)throw new aa;}c.prototype.call=function(a,b){return b.subscribe(new te(a,this.total))};return c}(),te=function(c){function a(b,
a){b=c.call(this,b)||this;b.total=a;b.ring=[];b.count=0;return b}h(a,c);a.prototype._next=function(b){var a=this.ring,c=this.total,f=this.count++;a.length<c?a.push(b):a[f%c]=b};a.prototype._complete=function(){var b=this.destination,a=this.count;if(0<a)for(var c=this.count>=this.total?this.total:this.count,f=this.ring,g=0;g<c;g++){var k=a++%c;b.next(f[k])}b.complete()};return a}(m),ve=function(){function c(a){this.value=a}c.prototype.call=function(a,b){return b.subscribe(new ue(a,this.value))};return c}(),
ue=function(c){function a(b,a){b=c.call(this,b)||this;b.value=a;return b}h(a,c);a.prototype._next=function(b){this.destination.next(this.value)};return a}(m),xe=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new we(a))};return c}(),we=function(c){function a(b){return c.call(this,b)||this}h(a,c);a.prototype._next=function(b){this.destination.next(x.createNext(b))};a.prototype._error=function(b){var a=this.destination;a.next(x.createError(b));a.complete()};a.prototype._complete=
function(){var b=this.destination;b.next(x.createComplete());b.complete()};return a}(m),Gc=function(){function c(a,b,c){void 0===c&&(c=!1);this.accumulator=a;this.seed=b;this.hasSeed=c}c.prototype.call=function(a,b){return b.subscribe(new ye(a,this.accumulator,this.seed,this.hasSeed))};return c}(),ye=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.accumulator=a;b._state=e;b._hasState=f;b.index=0;return b}h(a,c);a.prototype._next=function(b){var a=this.destination;if(this._hasState){var c=
this.index++,f=void 0;try{f=this.accumulator(this._state,b,c)}catch(g){a.error(g);return}this._state=f;a.next(f)}else this._state=b,this._hasState=!0,a.next(b)};return a}(m),Ae=function(){function c(a,b,c){this.accumulator=a;this.seed=b;this.concurrent=c}c.prototype.call=function(a,b){return b.subscribe(new ze(a,this.accumulator,this.seed,this.concurrent))};return c}(),ze=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.accumulator=a;b.acc=e;b.concurrent=f;b.hasValue=!1;b.hasCompleted=!1;
b.buffer=[];b.active=0;b.index=0;return b}h(a,c);a.prototype._next=function(b){if(this.active<this.concurrent){var a=this.index++,c=this.destination,f=void 0;try{var g=this.accumulator,f=g(this.acc,b,a)}catch(k){return c.error(k)}this.active++;this._innerSub(f,b,a)}else this.buffer.push(b)};a.prototype._innerSub=function(b,a,c){a=new L(this,a,c);this.destination.add(a);t(this,b,void 0,void 0,a)};a.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&
this.destination.next(this.acc),this.destination.complete());this.unsubscribe()};a.prototype.notifyNext=function(b,a,c,f,g){b=this.destination;this.acc=a;this.hasValue=!0;b.next(a)};a.prototype.notifyComplete=function(b){var a=this.buffer;this.destination.remove(b);this.active--;0<a.length?this._next(a.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())};return a}(u),Hc=function(){function c(a,b){this.subjectFactory=a;this.selector=
b}c.prototype.call=function(a,b){var c=this.selector,e=this.subjectFactory();a=c(e).subscribe(a);a.add(b.subscribe(e));return a};return c}(),Ce=function(){function c(a,b){void 0===b&&(b=0);this.scheduler=a;this.delay=b}c.prototype.call=function(a,b){return b.subscribe(new Be(a,this.scheduler,this.delay))};return c}(),Be=function(c){function a(b,a,e){void 0===e&&(e=0);b=c.call(this,b)||this;b.scheduler=a;b.delay=e;return b}h(a,c);a.dispatch=function(b){b.notification.observe(b.destination);this.unsubscribe()};
a.prototype.scheduleMessage=function(b){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new De(b,this.destination)))};a.prototype._next=function(b){this.scheduleMessage(x.createNext(b))};a.prototype._error=function(b){this.scheduleMessage(x.createError(b));this.unsubscribe()};a.prototype._complete=function(){this.scheduleMessage(x.createComplete());this.unsubscribe()};return a}(m),De=function(){return function(c,a){this.notification=c;this.destination=a}}(),Fe=function(){function c(a){this.nextSources=
a}c.prototype.call=function(a,b){return b.subscribe(new Ee(a,this.nextSources))};return c}(),Ee=function(c){function a(b,a){var d=c.call(this,b)||this;d.destination=b;d.nextSources=a;return d}h(a,c);a.prototype.notifyError=function(b,a){this.subscribeToNextSource()};a.prototype.notifyComplete=function(b){this.subscribeToNextSource()};a.prototype._error=function(b){this.subscribeToNextSource();this.unsubscribe()};a.prototype._complete=function(){this.subscribeToNextSource();this.unsubscribe()};a.prototype.subscribeToNextSource=
function(){var b=this.nextSources.shift();if(b){var a=new L(this,void 0,void 0);this.destination.add(a);t(this,b,void 0,void 0,a)}else this.destination.complete()};return a}(u),He=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new Ge(a))};return c}(),Ge=function(c){function a(b){b=c.call(this,b)||this;b.hasPrev=!1;return b}h(a,c);a.prototype._next=function(b){var a;this.hasPrev?a=[this.prev,b]:this.hasPrev=!0;this.prev=b;a&&this.destination.next(a)};return a}(m),Mb=function(){function c(a,
b){this.count=a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new Ie(a,this.count,this.source))};return c}(),Ie=function(c){function a(b,a,e){b=c.call(this,b)||this;b.count=a;b.source=e;return b}h(a,c);a.prototype.complete=function(){if(!this.isStopped){var b=this.source,a=this.count;if(0===a)return c.prototype.complete.call(this);-1<a&&(this.count=a-1);b.subscribe(this._unsubscribeAndRecycle())}};return a}(m),Ke=function(){function c(a){this.notifier=a}c.prototype.call=function(a,
b){return b.subscribe(new Je(a,this.notifier,b))};return c}(),Je=function(c){function a(b,a,e){b=c.call(this,b)||this;b.notifier=a;b.source=e;b.notifications=null;b.retries=null;b.retriesSubscription=null;b.sourceIsBeingSubscribedTo=!0;return b}h(a,c);a.prototype.notifyNext=function(b,a,c,f,g){this.sourceIsBeingSubscribedTo=!0;this.source.subscribe(this)};a.prototype.notifyComplete=function(b){if(!1===this.sourceIsBeingSubscribedTo)return c.prototype.complete.call(this)};a.prototype.complete=function(){this.sourceIsBeingSubscribedTo=
!1;if(!this.isStopped){this.retries||this.subscribeToRetries();if(!this.retriesSubscription||this.retriesSubscription.closed)return c.prototype.complete.call(this);this._unsubscribeAndRecycle();this.notifications.next()}};a.prototype._unsubscribe=function(){var b=this.notifications,a=this.retriesSubscription;b&&(b.unsubscribe(),this.notifications=null);a&&(a.unsubscribe(),this.retriesSubscription=null);this.retries=null};a.prototype._unsubscribeAndRecycle=function(){var b=this._unsubscribe;this._unsubscribe=
null;c.prototype._unsubscribeAndRecycle.call(this);this._unsubscribe=b;return this};a.prototype.subscribeToRetries=function(){this.notifications=new v;var b;try{var a=this.notifier;b=a(this.notifications)}catch(e){return c.prototype.complete.call(this)}this.retries=b;this.retriesSubscription=t(this,b)};return a}(u),Me=function(){function c(a,b,c){this.count=a;this.resetOnSuccess=b;this.source=c}c.prototype.call=function(a,b){return b.subscribe(new Le(a,this.count,this.resetOnSuccess,this.source))};
return c}(),Le=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.count=a;b.resetOnSuccess=e;b.source=f;b.initialCount=b.count;return b}h(a,c);a.prototype.next=function(b){c.prototype.next.call(this,b);this.resetOnSuccess&&(this.count=this.initialCount)};a.prototype.error=function(b){if(!this.isStopped){var a=this.source,e=this.count;if(0===e)return c.prototype.error.call(this,b);-1<e&&(this.count=e-1);a.subscribe(this._unsubscribeAndRecycle())}};return a}(m),Oe=function(){function c(a,b){this.notifier=
a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new Ne(a,this.notifier,this.source))};return c}(),Ne=function(c){function a(b,a,e){b=c.call(this,b)||this;b.notifier=a;b.source=e;b.errors=null;b.retries=null;b.retriesSubscription=null;return b}h(a,c);a.prototype.error=function(b){if(!this.isStopped){var a=this.errors,e=this.retries,f=this.retriesSubscription;if(e)this.retriesSubscription=this.errors=null;else{a=new v;try{var g=this.notifier,e=g(a)}catch(k){return c.prototype.error.call(this,
k)}f=t(this,e)}this._unsubscribeAndRecycle();this.errors=a;this.retries=e;this.retriesSubscription=f;a.next(b)}};a.prototype._unsubscribe=function(){var b=this.errors,a=this.retriesSubscription;b&&(b.unsubscribe(),this.errors=null);a&&(a.unsubscribe(),this.retriesSubscription=null);this.retries=null};a.prototype.notifyNext=function(b,a,c,f,g){b=this._unsubscribe;this._unsubscribe=null;this._unsubscribeAndRecycle();this._unsubscribe=b;this.source.subscribe(this)};return a}(u),Qe=function(){function c(a){this.notifier=
a}c.prototype.call=function(a,b){a=new Pe(a);b=b.subscribe(a);b.add(t(a,this.notifier));return b};return c}(),Pe=function(c){function a(){var b=null!==c&&c.apply(this,arguments)||this;b.hasValue=!1;return b}h(a,c);a.prototype._next=function(b){this.value=b;this.hasValue=!0};a.prototype.notifyNext=function(b,a,c,f,g){this.emitValue()};a.prototype.notifyComplete=function(){this.emitValue()};a.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))};return a}(u),
Se=function(){function c(a,b){this.period=a;this.scheduler=b}c.prototype.call=function(a,b){return b.subscribe(new Re(a,this.period,this.scheduler))};return c}(),Re=function(c){function a(b,a,e){b=c.call(this,b)||this;b.period=a;b.scheduler=e;b.hasValue=!1;b.add(e.schedule(Jc,a,{subscriber:b,period:a}));return b}h(a,c);a.prototype._next=function(b){this.lastValue=b;this.hasValue=!0};a.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))};return a}(m),
Ue=function(){function c(a,b){this.compareTo=a;this.comparator=b}c.prototype.call=function(a,b){return b.subscribe(new Te(a,this.compareTo,this.comparator))};return c}(),Te=function(c){function a(b,a,e){var d=c.call(this,b)||this;d.compareTo=a;d.comparator=e;d._a=[];d._b=[];d._oneComplete=!1;d.destination.add(a.subscribe(new Ve(b,d)));return d}h(a,c);a.prototype._next=function(b){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(b),this.checkValues())};a.prototype._complete=function(){this._oneComplete?
this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0;this.unsubscribe()};a.prototype.checkValues=function(){for(var b=this._a,a=this._b,c=this.comparator;0<b.length&&0<a.length;){var f=b.shift(),g=a.shift(),k=!1;try{k=c?c(f,g):f===g}catch(q){this.destination.error(q)}k||this.emit(!1)}};a.prototype.emit=function(b){var a=this.destination;a.next(b);a.complete()};a.prototype.nextB=function(b){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(b),this.checkValues())};
a.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0};return a}(m),Ve=function(c){function a(b,a){b=c.call(this,b)||this;b.parent=a;return b}h(a,c);a.prototype._next=function(b){this.parent.nextB(b)};a.prototype._error=function(b){this.parent.error(b);this.unsubscribe()};a.prototype._complete=function(){this.parent.completeB();this.unsubscribe()};return a}(m),Xe=function(){function c(a,b){this.predicate=a;this.source=b}c.prototype.call=
function(a,b){return b.subscribe(new We(a,this.predicate,this.source))};return c}(),We=function(c){function a(b,a,e){b=c.call(this,b)||this;b.predicate=a;b.source=e;b.seenValue=!1;b.index=0;return b}h(a,c);a.prototype.applySingleValue=function(b){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=b)};a.prototype._next=function(b){var a=this.index++;this.predicate?this.tryNext(b,a):this.applySingleValue(b)};a.prototype.tryNext=function(b,
a){try{this.predicate(b,a,this.source)&&this.applySingleValue(b)}catch(e){this.destination.error(e)}};a.prototype._complete=function(){var b=this.destination;0<this.index?(b.next(this.seenValue?this.singleValue:void 0),b.complete()):b.error(new P)};return a}(m),Ze=function(){function c(a){this.total=a}c.prototype.call=function(a,b){return b.subscribe(new Ye(a,this.total))};return c}(),Ye=function(c){function a(b,a){b=c.call(this,b)||this;b.total=a;b.count=0;return b}h(a,c);a.prototype._next=function(b){++this.count>
this.total&&this.destination.next(b)};return a}(m),af=function(){function c(a){this._skipCount=a;if(0>this._skipCount)throw new aa;}c.prototype.call=function(a,b){return 0===this._skipCount?b.subscribe(new m(a)):b.subscribe(new $e(a,this._skipCount))};return c}(),$e=function(c){function a(b,a){b=c.call(this,b)||this;b._skipCount=a;b._count=0;b._ring=Array(a);return b}h(a,c);a.prototype._next=function(b){var a=this._skipCount,c=this._count++;if(c<a)this._ring[c]=b;else{var a=c%a,c=this._ring,f=c[a];
c[a]=b;this.destination.next(f)}};return a}(m),cf=function(){function c(a){this.notifier=a}c.prototype.call=function(a,b){return b.subscribe(new bf(a,this.notifier))};return c}(),bf=function(c){function a(a,d){a=c.call(this,a)||this;a.hasValue=!1;var b=new L(a,void 0,void 0);a.add(b);a.innerSubscription=b;t(a,d,void 0,void 0,b);return a}h(a,c);a.prototype._next=function(a){this.hasValue&&c.prototype._next.call(this,a)};a.prototype.notifyNext=function(a,c,e,f,g){this.hasValue=!0;this.innerSubscription&&
this.innerSubscription.unsubscribe()};a.prototype.notifyComplete=function(){};return a}(u),ef=function(){function c(a){this.predicate=a}c.prototype.call=function(a,b){return b.subscribe(new df(a,this.predicate))};return c}(),df=function(c){function a(a,d){a=c.call(this,a)||this;a.predicate=d;a.skipping=!0;a.index=0;return a}h(a,c);a.prototype._next=function(a){var b=this.destination;this.skipping&&this.tryCallPredicate(a);this.skipping||b.next(a)};a.prototype.tryCallPredicate=function(a){try{this.skipping=
!!this.predicate(a,this.index++)}catch(d){this.destination.error(d)}};return a}(m),ff=function(c){function a(a,d,e){void 0===d&&(d=0);void 0===e&&(e=sa);var b=c.call(this)||this;b.source=a;b.delayTime=d;b.scheduler=e;if(!Y(d)||0>d)b.delayTime=0;e&&"function"===typeof e.schedule||(b.scheduler=sa);return b}h(a,c);a.create=function(b,c,e){void 0===c&&(c=0);void 0===e&&(e=sa);return new a(b,c,e)};a.dispatch=function(a){return this.add(a.source.subscribe(a.subscriber))};a.prototype._subscribe=function(b){return this.scheduler.schedule(a.dispatch,
this.delayTime,{source:this.source,subscriber:b})};return a}(p),gf=function(){function c(a,b){this.scheduler=a;this.delay=b}c.prototype.call=function(a,b){return(new ff(b,this.delay,this.scheduler)).subscribe(a)};return c}(),Mc=function(){function c(a){this.project=a}c.prototype.call=function(a,b){return b.subscribe(new hf(a,this.project))};return c}(),hf=function(c){function a(a,d){a=c.call(this,a)||this;a.project=d;a.index=0;return a}h(a,c);a.prototype._next=function(a){var b,c=this.index++;try{b=
this.project(a,c)}catch(f){this.destination.error(f);return}this._innerSub(b,a,c)};a.prototype._innerSub=function(a,c,e){var b=this.innerSubscription;b&&b.unsubscribe();c=new L(this,c,e);this.destination.add(c);this.innerSubscription=t(this,a,void 0,void 0,c)};a.prototype._complete=function(){var a=this.innerSubscription;a&&!a.closed||c.prototype._complete.call(this);this.unsubscribe()};a.prototype._unsubscribe=function(){this.innerSubscription=null};a.prototype.notifyComplete=function(a){this.destination.remove(a);
this.innerSubscription=null;this.isStopped&&c.prototype._complete.call(this)};a.prototype.notifyNext=function(a,c,e,f,g){this.destination.next(c)};return a}(u),kf=function(){function c(a){this.notifier=a}c.prototype.call=function(a,b){a=new jf(a);var c=t(a,this.notifier);return c&&!a.seenValue?(a.add(c),b.subscribe(a)):a};return c}(),jf=function(c){function a(a){a=c.call(this,a)||this;a.seenValue=!1;return a}h(a,c);a.prototype.notifyNext=function(a,c,e,f,g){this.seenValue=!0;this.complete()};a.prototype.notifyComplete=
function(){};return a}(u),mf=function(){function c(a,b){this.predicate=a;this.inclusive=b}c.prototype.call=function(a,b){return b.subscribe(new lf(a,this.predicate,this.inclusive))};return c}(),lf=function(c){function a(a,d,e){a=c.call(this,a)||this;a.predicate=d;a.inclusive=e;a.index=0;return a}h(a,c);a.prototype._next=function(a){var b=this.destination,c;try{c=this.predicate(a,this.index++)}catch(f){b.error(f);return}this.nextOrComplete(a,c)};a.prototype.nextOrComplete=function(a,c){var b=this.destination;
c?b.next(a):(this.inclusive&&b.next(a),b.complete())};return a}(m),of=function(){function c(a,b,c){this.nextOrObserver=a;this.error=b;this.complete=c}c.prototype.call=function(a,b){return b.subscribe(new nf(a,this.nextOrObserver,this.error,this.complete))};return c}(),nf=function(c){function a(a,d,e,f){a=c.call(this,a)||this;a._tapNext=H;a._tapError=H;a._tapComplete=H;a._tapError=e||H;a._tapComplete=f||H;T(d)?(a._context=a,a._tapNext=d):d&&(a._context=d,a._tapNext=d.next||H,a._tapError=d.error||H,
a._tapComplete=d.complete||H);return a}h(a,c);a.prototype._next=function(a){try{this._tapNext.call(this._context,a)}catch(d){this.destination.error(d);return}this.destination.next(a)};a.prototype._error=function(a){try{this._tapError.call(this._context,a)}catch(d){this.destination.error(d);return}this.destination.error(a)};a.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(b){this.destination.error(b);return}return this.destination.complete()};return a}(m),Nb={leading:!0,
trailing:!1},qf=function(){function c(a,b,c){this.durationSelector=a;this.leading=b;this.trailing=c}c.prototype.call=function(a,b){return b.subscribe(new pf(a,this.durationSelector,this.leading,this.trailing))};return c}(),pf=function(c){function a(a,d,e,f){var b=c.call(this,a)||this;b.destination=a;b.durationSelector=d;b._leading=e;b._trailing=f;b._sendValue=null;b._hasValue=!1;return b}h(a,c);a.prototype._next=function(a){this._hasValue=!0;this._sendValue=a;this._throttled||(this._leading?this.send():
this.throttle(a))};a.prototype.send=function(){var a=this._sendValue;this._hasValue&&(this.destination.next(a),this.throttle(a));this._hasValue=!1;this._sendValue=null};a.prototype.throttle=function(a){(a=this.tryDurationSelector(a))&&this.add(this._throttled=t(this,a))};a.prototype.tryDurationSelector=function(a){try{return this.durationSelector(a)}catch(d){return this.destination.error(d),null}};a.prototype.throttlingDone=function(){var a=this._throttled,c=this._trailing;a&&a.unsubscribe();this._throttled=
null;c&&this.send()};a.prototype.notifyNext=function(a,c,e,f,g){this.throttlingDone()};a.prototype.notifyComplete=function(){this.throttlingDone()};return a}(u),sf=function(){function c(a,b,c,e){this.duration=a;this.scheduler=b;this.leading=c;this.trailing=e}c.prototype.call=function(a,b){return b.subscribe(new rf(a,this.duration,this.scheduler,this.leading,this.trailing))};return c}(),rf=function(c){function a(a,d,e,f,g){a=c.call(this,a)||this;a.duration=d;a.scheduler=e;a.leading=f;a.trailing=g;
a.throttled=null;a._hasTrailingValue=!1;a._trailingValue=null;return a}h(a,c);a.prototype._next=function(a){this.throttled?this.trailing&&(this._trailingValue=a,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Nc,this.duration,{subscriber:this})),this.leading?this.destination.next(a):this.trailing&&(this._trailingValue=a,this._hasTrailingValue=!0))};a.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue);this.destination.complete()};
a.prototype.clearThrottle=function(){var a=this.throttled;a&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),a.unsubscribe(),this.remove(a),this.throttled=null)};return a}(m),tf=function(){return function(c,a){this.value=c;this.interval=a}}(),Oc=function(){function c(a,b,c,e){this.waitFor=a;this.absoluteTimeout=b;this.withObservable=c;this.scheduler=e}c.prototype.call=function(a,b){return b.subscribe(new uf(a,
this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))};return c}(),uf=function(c){function a(a,d,e,f,g){a=c.call(this,a)||this;a.absoluteTimeout=d;a.waitFor=e;a.withObservable=f;a.scheduler=g;a.action=null;a.scheduleTimeout();return a}h(a,c);a.dispatchTimeout=function(a){var b=a.withObservable;a._unsubscribeAndRecycle();a.add(t(a,b))};a.prototype.scheduleTimeout=function(){var b=this.action;b?this.action=b.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(a.dispatchTimeout,
this.waitFor,this))};a.prototype._next=function(a){this.absoluteTimeout||this.scheduleTimeout();c.prototype._next.call(this,a)};a.prototype._unsubscribe=function(){this.withObservable=this.scheduler=this.action=null};return a}(u),wf=function(){function c(a){this.windowBoundaries=a}c.prototype.call=function(a,b){a=new vf(a);b=b.subscribe(a);b.closed||a.add(t(a,this.windowBoundaries));return b};return c}(),vf=function(c){function a(a){var b=c.call(this,a)||this;b.window=new v;a.next(b.window);return b}
h(a,c);a.prototype.notifyNext=function(a,c,e,f,g){this.openWindow()};a.prototype.notifyError=function(a,c){this._error(a)};a.prototype.notifyComplete=function(a){this._complete()};a.prototype._next=function(a){this.window.next(a)};a.prototype._error=function(a){this.window.error(a);this.destination.error(a)};a.prototype._complete=function(){this.window.complete();this.destination.complete()};a.prototype._unsubscribe=function(){this.window=null};a.prototype.openWindow=function(){var a=this.window;
a&&a.complete();var a=this.destination,c=this.window=new v;a.next(c)};return a}(u),yf=function(){function c(a,b){this.windowSize=a;this.startWindowEvery=b}c.prototype.call=function(a,b){return b.subscribe(new xf(a,this.windowSize,this.startWindowEvery))};return c}(),xf=function(c){function a(a,d,e){var b=c.call(this,a)||this;b.destination=a;b.windowSize=d;b.startWindowEvery=e;b.windows=[new v];b.count=0;a.next(b.windows[0]);return b}h(a,c);a.prototype._next=function(a){for(var b=0<this.startWindowEvery?
this.startWindowEvery:this.windowSize,c=this.destination,f=this.windowSize,g=this.windows,k=g.length,h=0;h<k&&!this.closed;h++)g[h].next(a);a=this.count-f+1;0<=a&&0===a%b&&!this.closed&&g.shift().complete();0!==++this.count%b||this.closed||(b=new v,g.push(b),c.next(b))};a.prototype._error=function(a){var b=this.windows;if(b)for(;0<b.length&&!this.closed;)b.shift().error(a);this.destination.error(a)};a.prototype._complete=function(){var a=this.windows;if(a)for(;0<a.length&&!this.closed;)a.shift().complete();
this.destination.complete()};a.prototype._unsubscribe=function(){this.count=0;this.windows=null};return a}(m),Af=function(){function c(a,b,c,e){this.windowTimeSpan=a;this.windowCreationInterval=b;this.maxWindowSize=c;this.scheduler=e}c.prototype.call=function(a,b){return b.subscribe(new zf(a,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))};return c}(),Bf=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a._numberOfNextedValues=0;return a}h(a,
c);a.prototype.next=function(a){this._numberOfNextedValues++;c.prototype.next.call(this,a)};Object.defineProperty(a.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0});return a}(v),zf=function(c){function a(a,d,e,f,g){var b=c.call(this,a)||this;b.destination=a;b.maxWindowSize=f;b.windows=[];a=b.openWindow();null!==e&&0<=e?(f={windowTimeSpan:d,windowCreationInterval:e,subscriber:b,scheduler:g},b.add(g.schedule(wb,d,{subscriber:b,window:a,
context:null})),b.add(g.schedule(Rc,e,f))):b.add(g.schedule(Qc,d,{subscriber:b,window:a,windowTimeSpan:d}));return b}h(a,c);a.prototype._next=function(a){for(var b=this.maxWindowSize<Number.POSITIVE_INFINITY?this.windows.slice():this.windows,c=b.length,f=0;f<c;f++){var g=b[f];g.closed||(g.next(a),this.maxWindowSize<=g.numberOfNextedValues&&this.closeWindow(g))}};a.prototype._error=function(a){for(var b=this.windows;0<b.length;)b.shift().error(a);this.destination.error(a)};a.prototype._complete=function(){for(var a=
this.windows;0<a.length;)a.shift().complete();this.destination.complete()};a.prototype.openWindow=function(){var a=new Bf;this.windows.push(a);this.destination.next(a);return a};a.prototype.closeWindow=function(a){var b=this.windows.indexOf(a);0<=b&&(a.complete(),this.windows.splice(b,1))};return a}(m),Df=function(){function c(a,b){this.openings=a;this.closingSelector=b}c.prototype.call=function(a,b){return b.subscribe(new Cf(a,this.openings,this.closingSelector))};return c}(),Cf=function(c){function a(a,
d,e){a=c.call(this,a)||this;a.openings=d;a.closingSelector=e;a.contexts=[];a.add(a.openSubscription=t(a,d,d));return a}h(a,c);a.prototype._next=function(a){var b=this.contexts;if(b)for(var c=b.length,f=0;f<c;f++)b[f].window.next(a)};a.prototype._error=function(a){var b=this.contexts;this.contexts=null;if(b)for(var e=b.length,f=-1;++f<e;){var g=b[f];g.window.error(a);g.subscription.unsubscribe()}c.prototype._error.call(this,a)};a.prototype._complete=function(){var a=this.contexts;this.contexts=null;
if(a)for(var d=a.length,e=-1;++e<d;){var f=a[e];f.window.complete();f.subscription.unsubscribe()}c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){var a=this.contexts;this.contexts=null;if(a)for(var c=a.length,e=-1;++e<c;){var f=a[e];f.window.unsubscribe();f.subscription.unsubscribe()}};a.prototype.notifyNext=function(a,c,e,f,g){if(a===this.openings){a=void 0;try{var b=this.closingSelector;a=b(c)}catch(q){return this.error(q)}c=new v;b=new r;e={window:c,subscription:b};this.contexts.push(e);
a=t(this,a,e);a.closed?this.closeWindow(this.contexts.length-1):(a.context=e,b.add(a));this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(a))};a.prototype.notifyError=function(a){this.error(a)};a.prototype.notifyComplete=function(a){a!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(a.context))};a.prototype.closeWindow=function(a){if(-1!==a){var b=this.contexts,c=b[a],f=c.window,c=c.subscription;b.splice(a,1);f.complete();c.unsubscribe()}};return a}(u),Ff=function(){function c(a){this.closingSelector=
a}c.prototype.call=function(a,b){return b.subscribe(new Ef(a,this.closingSelector))};return c}(),Ef=function(c){function a(a,d){var b=c.call(this,a)||this;b.destination=a;b.closingSelector=d;b.openWindow();return b}h(a,c);a.prototype.notifyNext=function(a,c,e,f,g){this.openWindow(g)};a.prototype.notifyError=function(a,c){this._error(a)};a.prototype.notifyComplete=function(a){this.openWindow(a)};a.prototype._next=function(a){this.window.next(a)};a.prototype._error=function(a){this.window.error(a);
this.destination.error(a);this.unsubscribeClosingNotification()};a.prototype._complete=function(){this.window.complete();this.destination.complete();this.unsubscribeClosingNotification()};a.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()};a.prototype.openWindow=function(a){void 0===a&&(a=null);a&&(this.remove(a),a.unsubscribe());(a=this.window)&&a.complete();a=this.window=new v;this.destination.next(a);var b;try{var c=this.closingSelector;
b=c()}catch(f){this.destination.error(f);this.window.error(f);return}this.add(this.closingNotification=t(this,b))};return a}(u),Hf=function(){function c(a,b){this.observables=a;this.project=b}c.prototype.call=function(a,b){return b.subscribe(new Gf(a,this.observables,this.project))};return c}(),Gf=function(c){function a(a,d,e){a=c.call(this,a)||this;a.observables=d;a.project=e;a.toRespond=[];e=d.length;a.values=Array(e);for(var b=0;b<e;b++)a.toRespond.push(b);for(b=0;b<e;b++){var g=d[b];a.add(t(a,
g,g,b))}return a}h(a,c);a.prototype.notifyNext=function(a,c,e,f,g){this.values[e]=c;a=this.toRespond;0<a.length&&(e=a.indexOf(e),-1!==e&&a.splice(e,1))};a.prototype.notifyComplete=function(){};a.prototype._next=function(a){0===this.toRespond.length&&(a=D([a],this.values),this.project?this._tryProject(a):this.destination.next(a))};a.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(e){this.destination.error(e);return}this.destination.next(b)};return a}(u),If=Object.freeze({audit:ob,
auditTime:function(c,a){void 0===a&&(a=z);return ob(function(){return lb(c,a)})},buffer:function(c){return function(a){return a.lift(new zd(c))}},bufferCount:function(c,a){void 0===a&&(a=null);return function(b){return b.lift(new Cd(c,a))}},bufferTime:function(c){var a=arguments.length,b=z;B(arguments[arguments.length-1])&&(b=arguments[arguments.length-1],a--);var d=null;2<=a&&(d=arguments[1]);var e=Number.POSITIVE_INFINITY;3<=a&&(e=arguments[2]);return function(a){return a.lift(new Ed(c,d,e,b))}},
bufferToggle:function(c,a){return function(b){return b.lift(new Hd(c,a))}},bufferWhen:function(c){return function(a){return a.lift(new Jd(c))}},catchError:function(c){return function(a){var b=new Ld(c);a=a.lift(b);return b.caught=a}},combineAll:function(c){return function(a){return a.lift(new Ga(c))}},combineLatest:rb,combineLatestWith:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return rb.apply(void 0,c)},concat:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];
return function(a){return a.lift.call(X.apply(void 0,D([a],c)),void 0)}},concatAll:fb,concatMap:Ha,concatMapTo:function(c,a){return"function"===typeof a?Ha(function(){return c},a):Ha(function(){return c})},concatWith:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return function(a){return a.lift.call(X.apply(void 0,D([a],c)),void 0)}},count:function(c){return function(a){return a.lift(new Nd(c,a))}},debounce:function(c){return function(a){return a.lift(new Pd(c))}},debounceTime:function(c,
a){void 0===a&&(a=z);return function(b){return b.lift(new Rd(c,a))}},defaultIfEmpty:da,delay:function(c,a){void 0===a&&(a=z);var b=c instanceof Date&&!isNaN(+c)?+c-a.now():Math.abs(c);return function(c){return c.lift(new Ud(b,a))}},delayWhen:function(c,a){return a?function(b){return(new Yd(b,a)).lift(new Kb(c))}:function(a){return a.lift(new Kb(c))}},dematerialize:function(){return function(c){return c.lift(new $d)}},distinct:function(c,a){return function(b){return b.lift(new be(c,a))}},distinctUntilChanged:sb,
distinctUntilKeyChanged:function(c,a){return sb(function(b,d){return a?a(b[c],d[c]):b[c]===d[c]})},elementAt:function(c,a){if(0>c)throw new aa;var b=2<=arguments.length;return function(d){return d.pipe(N(function(a,b){return b===c}),Ia(1),b?da(a):ma(function(){return new aa}))}},endWith:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return function(a){return X(a,ja.apply(void 0,c))}},every:function(c,a){return function(b){return b.lift(new ge(c,a,b))}},exhaust:function(){return function(c){return c.lift(new ie)}},
exhaustMap:tb,expand:function(c,a,b){void 0===a&&(a=Number.POSITIVE_INFINITY);a=1>(a||0)?Number.POSITIVE_INFINITY:a;return function(d){return d.lift(new le(c,a,b))}},filter:N,finalize:function(c){return function(a){return a.lift(new ne(c))}},find:function(c,a){if("function"!==typeof c)throw new TypeError("predicate is not a function");return function(b){return b.lift(new Lb(c,b,!1,a))}},findIndex:function(c,a){return function(b){return b.lift(new Lb(c,b,!0,a))}},first:function(c,a){var b=2<=arguments.length;
return function(d){return d.pipe(c?N(function(a,b){return c(a,b,d)}):K,Ia(1),b?da(a):ma(function(){return new P}))}},groupBy:function(c,a,b,d){return function(e){return e.lift(new bd(c,a,b,d))}},ignoreElements:function(){return function(c){return c.lift(new qe)}},isEmpty:function(){return function(c){return c.lift(new se)}},last:function(c,a){var b=2<=arguments.length;return function(d){return d.pipe(c?N(function(a,b){return c(a,b,d)}):K,na(1),b?da(a):ma(function(){return new P}))}},map:C,mapTo:function(c){return function(a){return a.lift(new ve(c))}},
materialize:function(){return function(c){return c.lift(new xe)}},max:function(c){return pa("function"===typeof c?function(a,b){return 0<c(a,b)?a:b}:function(a,b){return a>b?a:b})},mergeWith:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return ub.apply(void 0,c)},merge:ub,mergeAll:Ca,mergeMap:M,flatMap:M,mergeMapTo:function(c,a,b){void 0===b&&(b=Number.POSITIVE_INFINITY);if("function"===typeof a)return M(function(){return c},a,b);"number"===typeof a&&(b=a);return M(function(){return c},
b)},mergeScan:function(c,a,b){void 0===b&&(b=Number.POSITIVE_INFINITY);return function(d){return d.lift(new Ae(c,a,b))}},min:function(c){return pa("function"===typeof c?function(a,b){return 0>c(a,b)?a:b}:function(a,b){return a<b?a:b})},multicast:Q,observeOn:function(c,a){void 0===a&&(a=0);return function(b){return b.lift(new Ce(c,a))}},onErrorResumeNext:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];1===c.length&&y(c[0])&&(c=c[0]);return function(a){return a.lift(new Fe(c))}},
pairwise:function(){return function(c){return c.lift(new He)}},partition:function(c,a){return function(b){return[N(c,a)(b),N(kb(c,a))(b)]}},pluck:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var b=c.length;if(0===b)throw Error("list of properties cannot be empty.");return C(function(a){var d=a;for(a=0;a<b;a++)if(d=d[c[a]],"undefined"===typeof d)return;return d})},publish:function(c){return c?Q(function(){return new v},c):Q(new v)},publishBehavior:function(c){return function(a){return Q(new Eb(c))(a)}},
publishLast:function(){return function(c){return Q(new V)(c)}},publishReplay:function(c,a,b,d){b&&"function"!==typeof b&&(d=b);var e="function"===typeof b?b:void 0,f=new Z(c,a,d);return function(a){return Q(function(){return f},e)(a)}},race:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return function(a){1===c.length&&y(c[0])&&(c=c[0]);return a.lift.call(Fa.apply(void 0,D([a],c)),void 0)}},raceWith:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return function(a){return a.lift.call(Fa.apply(void 0,
D([a],c)),void 0)}},reduce:pa,repeat:function(c){void 0===c&&(c=-1);return function(a){return 0===c?G:0>c?a.lift(new Mb(-1,a)):a.lift(new Mb(c-1,a))}},repeatWhen:function(c){return function(a){return a.lift(new Ke(c))}},retry:function(c){void 0===c&&(c=-1);var a;a=c&&"object"===typeof c?c:{count:c};return function(b){return b.lift(new Me(a.count,!!a.resetOnSuccess,b))}},retryWhen:function(c){return function(a){return a.lift(new Oe(c,a))}},refCount:ya,sample:function(c){return function(a){return a.lift(new Qe(c))}},
sampleTime:function(c,a){void 0===a&&(a=z);return function(b){return b.lift(new Se(c,a))}},scan:oa,sequenceEqual:function(c,a){return function(b){return b.lift(new Ue(c,a))}},share:function(){return function(c){return ya()(Q(Kc)(c))}},shareReplay:function(c,a,b){var d;d=c&&"object"===typeof c?c:{bufferSize:c,windowTime:a,refCount:!1,scheduler:b};return function(a){return a.lift(Lc(d))}},single:function(c){return function(a){return a.lift(new Xe(c,a))}},skip:function(c){return function(a){return a.lift(new Ze(c))}},
skipLast:function(c){return function(a){return a.lift(new af(c))}},skipUntil:function(c){return function(a){return a.lift(new cf(c))}},skipWhile:function(c){return function(a){return a.lift(new ef(c))}},startWith:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var b=c[c.length-1];return B(b)?(c.pop(),function(a){return X(c,a,b)}):function(a){return X(c,a)}},subscribeOn:function(c,a){void 0===a&&(a=0);return function(b){return b.lift(new gf(c,a))}},switchAll:function(){return ea(K)},
switchMap:ea,switchMapTo:function(c,a){return a?ea(function(){return c},a):ea(function(){return c})},take:Ia,takeLast:na,takeUntil:function(c){return function(a){return a.lift(new kf(c))}},takeWhile:function(c,a){void 0===a&&(a=!1);return function(b){return b.lift(new mf(c,a))}},tap:function(c,a,b){return function(d){return d.lift(new of(c,a,b))}},throttle:function(c,a){void 0===a&&(a=Nb);return function(b){return b.lift(new qf(c,!!a.leading,!!a.trailing))}},throttleTime:function(c,a,b){void 0===
a&&(a=z);void 0===b&&(b=Nb);return function(d){return d.lift(new sf(c,a,!!b.leading,!!b.trailing))}},throwIfEmpty:ma,timeInterval:function(c){void 0===c&&(c=z);return function(a){return Da(function(){return a.pipe(oa(function(a,d){a=a.current;return{value:d,current:c.now(),last:a}},{current:c.now(),value:void 0,last:void 0}),C(function(a){return new tf(a.value,a.current-a.last)}))})}},timeout:function(c,a){void 0===a&&(a=z);return vb(c,Ba(new Hb),a)},timeoutWith:vb,timestamp:function(c){void 0===
c&&(c=Date);return C(function(a){return{value:a,timestamp:c.now()}})},toArray:function(){return pa(Pc,[])},window:function(c){return function(a){return a.lift(new wf(c))}},windowCount:function(c,a){void 0===a&&(a=0);return function(b){return b.lift(new yf(c,a))}},windowTime:function(c,a,b,d){var e=z,f=null,g=Number.POSITIVE_INFINITY;B(d)&&(e=d);B(b)?e=b:Y(b)&&(g=Number(b));B(a)?e=a:Y(a)&&(f=Number(a));return function(a){return a.lift(new Af(c,f,g,e))}},windowToggle:function(c,a){return function(b){return b.lift(new Df(c,
a))}},windowWhen:function(c){return function(a){return a.lift(new Ff(c))}},withLatestFrom:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return function(a){var b;"function"===typeof c[c.length-1]&&(b=c.pop());return a.lift(new Hf(c,b))}},zip:xb,zipWith:function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return xb.apply(void 0,c)},zipAll:function(c){return function(a){return a.lift(new nb(c))}}}),ha=function(){return function(c,a){void 0===a&&(a=Number.POSITIVE_INFINITY);
this.subscribedFrame=c;this.unsubscribedFrame=a}}(),Ob=function(){function c(){this.subscriptions=[]}c.prototype.logSubscribedFrame=function(){this.subscriptions.push(new ha(this.scheduler.now()));return this.subscriptions.length-1};c.prototype.logUnsubscribedFrame=function(a){var b=this.subscriptions;b[a]=new ha(b[a].subscribedFrame,this.scheduler.now())};return c}(),Pa=function(c){function a(a,d){var b=c.call(this,function(a){var b=this,c=b.logSubscribedFrame(),d=new r;d.add(new r(function(){b.logUnsubscribedFrame(c)}));
b.scheduleMessages(a);return d})||this;b.messages=a;b.subscriptions=[];b.scheduler=d;return b}h(a,c);a.prototype.scheduleMessages=function(a){for(var b=this.messages.length,c=0;c<b;c++){var f=this.messages[c];a.add(this.scheduler.schedule(function(a){a.message.notification.observe(a.subscriber)},f.frame,{message:f,subscriber:a}))}};return a}(p);yb(Pa,[Ob]);var Pb=function(c){function a(a,d){var b=c.call(this)||this;b.messages=a;b.subscriptions=[];b.scheduler=d;return b}h(a,c);a.prototype._subscribe=
function(a){var b=this,e=b.logSubscribedFrame(),f=new r;f.add(new r(function(){b.logUnsubscribedFrame(e)}));f.add(c.prototype._subscribe.call(this,a));return f};a.prototype.setup=function(){for(var a=this,c=a.messages.length,e=0;e<c;e++)(function(){var b=a.messages[e];a.scheduler.schedule(function(){b.notification.observe(a)},b.frame)})()};return a}(v);yb(Pb,[Ob]);var Kf=function(c){function a(a){var b=c.call(this,Oa,750)||this;b.assertDeepEqual=a;b.hotObservables=[];b.coldObservables=[];b.flushTests=
[];b.runMode=!1;return b}h(a,c);a.prototype.createTime=function(b){b=b.trim().indexOf("|");if(-1===b)throw Error('marble diagram for time should have a completion marker "|"');return b*a.frameTimeFactor};a.prototype.createColdObservable=function(b,c,e){if(-1!==b.indexOf("^"))throw Error('cold observable cannot have subscription offset "^"');if(-1!==b.indexOf("!"))throw Error('cold observable cannot have unsubscription marker "!"');b=a.parseMarbles(b,c,e,void 0,this.runMode);b=new Pa(b,this);this.coldObservables.push(b);
return b};a.prototype.createHotObservable=function(b,c,e){if(-1!==b.indexOf("!"))throw Error('hot observable cannot have unsubscription marker "!"');b=a.parseMarbles(b,c,e,void 0,this.runMode);b=new Pb(b,this);this.hotObservables.push(b);return b};a.prototype.materializeInnerObservable=function(a,c){var b=this,d=[];a.subscribe(function(a){d.push({frame:b.frame-c,notification:x.createNext(a)})},function(a){d.push({frame:b.frame-c,notification:x.createError(a)})},function(){d.push({frame:b.frame-c,
notification:x.createComplete()})});return d};a.prototype.expectObservable=function(b,c){var d=this;void 0===c&&(c=null);var f=[],g={actual:f,ready:!1};c=a.parseMarblesAsSubscriptions(c,this.runMode);var h=c.unsubscribedFrame,q;this.schedule(function(){q=b.subscribe(function(a){var b=a;a instanceof p&&(b=d.materializeInnerObservable(b,d.frame));f.push({frame:d.frame,notification:x.createNext(b)})},function(a){f.push({frame:d.frame,notification:x.createError(a)})},function(){f.push({frame:d.frame,
notification:x.createComplete()})})},c.subscribedFrame===Number.POSITIVE_INFINITY?0:c.subscribedFrame);h!==Number.POSITIVE_INFINITY&&this.schedule(function(){return q.unsubscribe()},h);this.flushTests.push(g);var l=this.runMode;return{toBe:function(b,c,d){g.ready=!0;g.expected=a.parseMarbles(b,c,d,!0,l)}}};a.prototype.expectSubscriptions=function(b){var c={actual:b,ready:!1};this.flushTests.push(c);var e=this.runMode;return{toBe:function(b){b="string"===typeof b?[b]:b;c.ready=!0;c.expected=b.map(function(b){return a.parseMarblesAsSubscriptions(b,
e)})}}};a.prototype.flush=function(){for(var a=this,d=this.hotObservables;0<d.length;)d.shift().setup();c.prototype.flush.call(this);this.flushTests=this.flushTests.filter(function(b){return b.ready?(a.assertDeepEqual(b.actual,b.expected),!1):!0})};a.parseMarblesAsSubscriptions=function(a,c){var b=this;void 0===c&&(c=!1);if("string"!==typeof a)return new ha(Number.POSITIVE_INFINITY);for(var d=a.length,g=-1,h=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY,l=0,n=function(d){var e=l,f=function(a){e+=
a*b.frameTimeFactor},k=a[d];switch(k){case " ":c||f(1);break;case "-":f(1);break;case "(":g=l;f(1);break;case ")":g=-1;f(1);break;case "^":if(h!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");h=-1<g?g:l;f(1);break;case "!":if(q!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");q=-1<g?g:l;break;default:if(c&&k.match(/^[0-9]$/)&&
(0===d||" "===a[d-1])){var n=a.slice(d).match(/^([0-9]+(?:\.[0-9]+)?)(ms|s|m) /);if(n){d+=n[0].length-1;var k=parseFloat(n[1]),w=void 0;switch(n[2]){case "ms":w=k;break;case "s":w=1E3*k;break;case "m":w=6E4*k}f(w/m.frameTimeFactor);break}}throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}l=e;p=d},m=this,p,r=0;r<d;r++)n(r),r=p;return 0>q?new ha(h):new ha(h,q)};a.parseMarbles=function(a,c,e,f,g){var b=this;void 0===f&&(f=!1);void 0===g&&(g=
!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var d=a.length,h=[],n=g?a.replace(/^[ ]+/,"").indexOf("^"):a.indexOf("^"),l=-1===n?0:n*-this.frameTimeFactor,m="object"!==typeof c?function(a){return a}:function(a){return f&&c[a]instanceof Pa?c[a].messages:c[a]},p=-1,n=function(c){var d=l,f=function(a){d+=a*b.frameTimeFactor},k=void 0,n=a[c];switch(n){case " ":g||f(1);break;case "-":f(1);break;case "(":p=l;f(1);break;case ")":p=-1;
f(1);break;case "|":k=x.createComplete();f(1);break;case "^":f(1);break;case "#":k=x.createError(e||"error");f(1);break;default:if(g&&n.match(/^[0-9]$/)&&(0===c||" "===a[c-1])){var q=a.slice(c).match(/^([0-9]+(?:\.[0-9]+)?)(ms|s|m) /);if(q){c+=q[0].length-1;var n=parseFloat(q[1]),w=void 0;switch(q[2]){case "ms":w=n;break;case "s":w=1E3*n;break;case "m":w=6E4*n}f(w/r.frameTimeFactor);break}}k=x.createNext(m(n));f(1)}k&&h.push({frame:-1<p?p:l,notification:k});l=d;t=c},r=this,t,u=0;u<d;u++)n(u),u=t;
return h};a.prototype.run=function(b){var c=a.frameTimeFactor,e=this.maxFrames;a.frameTimeFactor=1;this.maxFrames=Number.POSITIVE_INFINITY;this.runMode=!0;S.delegate=this;var f={cold:this.createColdObservable.bind(this),hot:this.createHotObservable.bind(this),flush:this.flush.bind(this),time:this.createTime.bind(this),expectObservable:this.expectObservable.bind(this),expectSubscriptions:this.expectSubscriptions.bind(this)};try{var g=b(f);this.flush();return g}finally{a.frameTimeFactor=c,this.maxFrames=
e,this.runMode=!1,S.delegate=void 0}};a.frameTimeFactor=10;return a}(Gb),Lf=Object.freeze({TestScheduler:Kf}),Mf="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nf="undefined"!==typeof global&&global,A="undefined"!==typeof window&&window||Nf||Mf;if(!A)throw Error("RxJS could not find any global context (window, self, global)");var Yc=C(function(c,a){return c.response}),R=function(c){function a(a){var b=c.call(this)||this,e={async:!0,createXHR:function(){var a;
if(this.crossDomain)if(A.XMLHttpRequest)a=new A.XMLHttpRequest;else if(A.XDomainRequest)a=new A.XDomainRequest;else throw Error("CORS is not supported by your browser");else if(A.XMLHttpRequest)a=new A.XMLHttpRequest;else{var b=void 0;try{for(var c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],d=0;3>d;d++)try{b=c[d];new A.ActiveXObject(b);break}catch(n){}a=new A.ActiveXObject(b)}catch(n){throw Error("XMLHttpRequest is not supported by your browser");}}return a},crossDomain:!0,withCredentials:!1,
headers:{},method:"GET",responseType:"json",timeout:0};if("string"===typeof a)e.url=a;else for(var f in a)a.hasOwnProperty(f)&&(e[f]=a[f]);b.request=e;return b}h(a,c);a.prototype._subscribe=function(a){return new Of(a,this.request)};a.create=function(){var b=function(b){return new a(b)};b.get=Sc;b.post=Tc;b.delete=Uc;b.put=Vc;b.patch=Wc;b.getJSON=Xc;return b}();return a}(p),Of=function(c){function a(a,d){a=c.call(this,a)||this;a.request=d;a.done=!1;var b=d.headers=d.headers||{};d.crossDomain||a.getHeader(b,
"X-Requested-With")||(b["X-Requested-With"]="XMLHttpRequest");a.getHeader(b,"Content-Type")||A.FormData&&d.body instanceof A.FormData||"undefined"===typeof d.body||(b["Content-Type"]="application/x-www-form-urlencoded; charset\x3dUTF-8");d.body=a.serializeBody(d.body,a.getHeader(d.headers,"Content-Type"));a.send();return a}h(a,c);a.prototype.next=function(a){this.done=!0;var b=this.xhr,c=this.request,f=this.destination,g;try{g=new Qb(a,b,c)}catch(k){return f.error(k)}f.next(g)};a.prototype.send=function(){var a=
this.request,c=this.request,e=c.user,f=c.method,g=c.url,h=c.async,l=c.password,m=c.headers,c=c.body;try{var n=this.xhr=a.createXHR();this.setupEvents(n,a);e?n.open(f,g,h,e,l):n.open(f,g,h);h&&(n.timeout=a.timeout,n.responseType=a.responseType);"withCredentials"in n&&(n.withCredentials=!!a.withCredentials);this.setHeaders(n,m);c?n.send(c):n.send()}catch(Wb){this.error(Wb)}};a.prototype.serializeBody=function(a,c){if(!a||"string"===typeof a||A.FormData&&a instanceof A.FormData)return a;if(c){var b=
c.indexOf(";");-1!==b&&(c=c.substring(0,b))}switch(c){case "application/x-www-form-urlencoded":return Object.keys(a).map(function(b){return encodeURIComponent(b)+"\x3d"+encodeURIComponent(a[b])}).join("\x26");case "application/json":return JSON.stringify(a);default:return a}};a.prototype.setHeaders=function(a,c){for(var b in c)c.hasOwnProperty(b)&&a.setRequestHeader(b,c[b])};a.prototype.getHeader=function(a,c){for(var b in a)if(b.toLowerCase()===c.toLowerCase())return a[b]};a.prototype.setupEvents=
function(a,c){function b(a){var c=b.subscriber,d=b.progressSubscriber,e=b.request;d&&d.error(a);var f;try{f=new Rb(this,e)}catch(Qa){f=Qa}c.error(f)}function d(a){}function g(a){var b=g.subscriber,c=g.progressSubscriber,d=g.request;if(4===this.readyState){var e=1223===this.status?204:this.status,f="text"===this.responseType?this.response||this.responseText:this.response;0===e&&(e=f?200:0);if(400>e)c&&c.complete(),b.next(a),b.complete();else{c&&c.error(a);a=void 0;try{a=new ia("ajax error "+e,this,
d)}catch(Jf){a=Jf}b.error(a)}}}var h=c.progressSubscriber;a.ontimeout=b;b.request=c;b.subscriber=this;b.progressSubscriber=h;if(a.upload&&"withCredentials"in a){if(h){var l;l=function(a){l.progressSubscriber.next(a)};A.XDomainRequest?a.onprogress=l:a.upload.onprogress=l;l.progressSubscriber=h}var m;m=function(a){var b=m.progressSubscriber,c=m.subscriber,d=m.request;b&&b.error(a);var e;try{e=new ia("ajax error",this,d)}catch(Qa){e=Qa}c.error(e)};a.onerror=m;m.request=c;m.subscriber=this;m.progressSubscriber=
h}a.onreadystatechange=d;d.subscriber=this;d.progressSubscriber=h;d.request=c;a.onload=g;g.subscriber=this;g.progressSubscriber=h;g.request=c};a.prototype.unsubscribe=function(){var a=this.xhr;!this.done&&a&&4!==a.readyState&&"function"===typeof a.abort&&a.abort();c.prototype.unsubscribe.call(this)};return a}(m),Qb=function(){return function(c,a,b){this.originalEvent=c;this.xhr=a;this.request=b;this.status=a.status;this.responseType=a.responseType||b.responseType;this.response=zb(this.responseType,
a)}}(),ia=function(){function c(a,b,c){Error.call(this);this.message=a;this.name="AjaxError";this.xhr=b;this.request=c;this.status=b.status;this.responseType=b.responseType||c.responseType;this.response=zb(this.responseType,b);return this}c.prototype=Object.create(Error.prototype);return c}(),Rb=function(){function c(a,b){ia.call(this,"ajax timeout",a,b);this.name="AjaxTimeoutError";return this}c.prototype=Object.create(ia.prototype);return c}(),Pf=Object.freeze({ajax:R.create,AjaxResponse:Qb,AjaxError:ia,
AjaxTimeoutError:Rb}),Qf={url:"",deserializer:function(c){return JSON.parse(c.data)},serializer:function(c){return JSON.stringify(c)}},Sb=function(c){function a(a,d){var b=c.call(this)||this;b._socket=null;if(a instanceof p)b.destination=d,b.source=a;else{d=b._config=fa({},Qf);b._output=new v;if("string"===typeof a)d.url=a;else for(var f in a)a.hasOwnProperty(f)&&(d[f]=a[f]);if(!d.WebSocketCtor&&WebSocket)d.WebSocketCtor=WebSocket;else if(!d.WebSocketCtor)throw Error("no WebSocket constructor can be found");
b.destination=new Z}return b}h(a,c);a.prototype.lift=function(b){var c=new a(this._config,this.destination);c.operator=b;c.source=this;return c};a.prototype._resetState=function(){this._socket=null;this.source||(this.destination=new Z);this._output=new v};a.prototype.multiplex=function(a,c,e){var b=this;return new p(function(d){try{b.next(a())}catch(q){d.error(q)}var f=b.subscribe(function(a){try{e(a)&&d.next(a)}catch(w){d.error(w)}},function(a){return d.error(a)},function(){return d.complete()});
return function(){try{b.next(c())}catch(q){d.error(q)}f.unsubscribe()}})};a.prototype._connectSocket=function(){var a=this,c=this._config,e=c.WebSocketCtor,f=c.protocol,g=c.url,c=c.binaryType,h=this._output,l=null;try{this._socket=l=f?new e(g,f):new e(g),c&&(this._socket.binaryType=c)}catch(n){h.error(n);return}var p=new r(function(){a._socket=null;l&&1===l.readyState&&l.close()});l.onopen=function(b){if(a._socket){var c=a._config.openObserver;c&&c.next(b);b=a.destination;a.destination=m.create(function(b){if(1===
l.readyState)try{var c=a._config.serializer;l.send(c(b))}catch(ua){a.destination.error(ua)}},function(b){var c=a._config.closingObserver;c&&c.next(void 0);b&&b.code?l.close(b.code,b.reason):h.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }"));a._resetState()},function(){var b=a._config.closingObserver;b&&b.next(void 0);l.close();a._resetState()});b&&b instanceof Z&&p.add(b.subscribe(a.destination))}else l.close(),
a._resetState()};l.onerror=function(b){a._resetState();h.error(b)};l.onclose=function(b){a._resetState();var c=a._config.closeObserver;c&&c.next(b);b.wasClean?h.complete():h.error(b)};l.onmessage=function(b){try{var c=a._config.deserializer;h.next(c(b))}catch(Xb){h.error(Xb)}}};a.prototype._subscribe=function(a){var b=this,c=this.source;if(c)return c.subscribe(a);this._socket||this._connectSocket();this._output.subscribe(a);a.add(function(){var a=b._socket;0===b._output.observers.length&&(a&&1===
a.readyState&&a.close(),b._resetState())});return a};a.prototype.unsubscribe=function(){var a=this._socket;a&&1===a.readyState&&a.close();this._resetState();c.prototype.unsubscribe.call(this)};return a}(Ka),Rf=Object.freeze({webSocket:function(c){return new Sb(c)},WebSocketSubject:Sb}),Sf=Object.freeze({fromFetch:function(c,a){void 0===a&&(a={});var b=a.selector,d=Tb(a,["selector"]);return new p(function(a){var e=new AbortController,g=e.signal,h=!0,l=!1,m=new r;m.add(function(){l=!0;h&&e.abort()});
var n;if(d){if(d.signal)if(d.signal.aborted)e.abort();else{var p=d.signal,t=function(){g.aborted||e.abort()};p.addEventListener("abort",t);m.add(function(){return p.removeEventListener("abort",t)})}n=fa(fa({},d),{signal:g})}else n={signal:g};fetch(c,n).then(function(c){b?m.add(F(b(c)).subscribe(function(b){return a.next(b)},function(b){h=!1;l||a.error(b)},function(){h=!1;a.complete()})):(h=!1,a.next(c),a.complete())}).catch(function(b){h=!1;l||a.error(b)});return m})}});l.operators=If;l.testing=Lf;
l.ajax=Pf;l.webSocket=Rf;l.fetch=Sf;l.Observable=p;l.ConnectableObservable=Db;l.GroupedObservable=La;l.observable=W;l.animationFrames=function(c){void 0===c&&(c=Date);return c===Date?ed:Wa(c)};l.Subject=v;l.BehaviorSubject=Eb;l.ReplaySubject=Z;l.AsyncSubject=V;l.asapScheduler=sa;l.asyncScheduler=z;l.queueScheduler=id;l.animationFrameScheduler=kd;l.VirtualTimeScheduler=Gb;l.VirtualAction=Oa;l.Scheduler=Na;l.Subscription=r;l.Subscriber=m;l.Notification=x;l.pipe=xa;l.noop=H;l.identity=K;l.isObservable=
function(c){return!!c&&(c instanceof p||"function"===typeof c.lift&&"function"===typeof c.subscribe)};l.lastValueFrom=function(c){return new Promise(function(a,b){var d=!1,e;c.subscribe({next:function(a){e=a;d=!0},error:b,complete:function(){d?a(e):b(new P)}})})};l.firstValueFrom=function(c){return new Promise(function(a,b){var d=new r;d.add(c.subscribe({next:function(b){a(b);d.unsubscribe()},error:b,complete:function(){b(new P)}}))})};l.ArgumentOutOfRangeError=aa;l.EmptyError=P;l.ObjectUnsubscribedError=
O;l.UnsubscriptionError=ba;l.TimeoutError=Hb;l.bindCallback=Za;l.bindNodeCallback=$a;l.combineLatest=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var b=a=void 0;B(c[c.length-1])&&(b=c.pop());"function"===typeof c[c.length-1]&&(a=c.pop());1===c.length&&y(c[0])&&(c=c[0]);return ca(c,b).lift(new Ga(a))};l.concat=X;l.defer=Da;l.empty=function(c){return c?bc(c):G};l.forkJoin=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];if(1===c.length){var b=c[0];if(y(b))return la(b,
null);if(va(b)&&Object.getPrototypeOf(b)===Object.prototype)return c=Object.keys(b),la(c.map(function(a){return b[a]}),c)}if("function"===typeof c[c.length-1]){var d=c.pop(),c=1===c.length&&y(c[0])?c[0]:c;return la(c,null).pipe(C(function(a){return d.apply(void 0,a)}))}return la(c,null)};l.from=F;l.fromEvent=gb;l.fromEventPattern=ib;l.generate=function(c,a,b,d,e){var f,g;1==arguments.length?(g=c.initialState,a=c.condition,b=c.iterate,f=c.resultSelector||K,e=c.scheduler):void 0===d||B(d)?(g=c,f=K,
e=d):(g=c,f=d);return new p(function(c){var d=g;if(e)return e.schedule(pc,0,{subscriber:c,iterate:b,condition:a,resultSelector:f,state:d});do{if(a){var h=void 0;try{h=a(d)}catch(n){c.error(n);break}if(!h){c.complete();break}}h=void 0;try{h=f(d)}catch(n){c.error(n);break}c.next(h);if(c.closed)break;try{d=b(d)}catch(n){c.error(n);break}}while(1)})};l.iif=function(c,a,b){void 0===a&&(a=G);void 0===b&&(b=G);return Da(function(){return c()?a:b})};l.interval=function(c,a){void 0===c&&(c=0);void 0===a&&
(a=z);if(!Y(c)||0>c)c=0;a&&"function"===typeof a.schedule||(a=z);return new p(function(b){b.add(a.schedule(qc,c,{subscriber:b,counter:0,period:c}));return b})};l.merge=jb;l.never=function(){return Jb};l.of=ja;l.onErrorResumeNext=Ea;l.pairs=function(c,a){return a?new p(function(b){var d=Object.keys(c),e=new r;e.add(a.schedule(rc,0,{keys:d,index:0,subscriber:b,subscription:e,obj:c}));return e}):new p(function(a){for(var b=Object.keys(c),e=0;e<b.length&&!a.closed;e++){var f=b[e];c.hasOwnProperty(f)&&
a.next([f,c[f]])}a.complete()})};l.partition=function(c,a,b){return[N(a,b)(new p(ka(c))),N(kb(a,b))(new p(ka(c)))]};l.race=Fa;l.range=function(c,a,b){void 0===c&&(c=0);return new p(function(d){void 0===a&&(a=c,c=0);var e=0,f=c;if(b)return b.schedule(uc,0,{index:e,count:a,start:c,subscriber:d});do{if(e++>=a){d.complete();break}d.next(f++);if(d.closed)break}while(1)})};l.throwError=Ba;l.timer=lb;l.using=function(c,a){return new p(function(b){var d;try{d=c()}catch(g){b.error(g);return}var e;try{e=a(d)}catch(g){b.error(g);
return}var f=(e?F(e):G).subscribe(b);return function(){f.unsubscribe();d&&d.unsubscribe()}})};l.zip=mb;l.scheduled=db;l.EMPTY=G;l.NEVER=Jb;l.config=E;Object.defineProperty(l,"__esModule",{value:!0})});
//# sourceMappingURL=rxjs.umd.min.js.map

